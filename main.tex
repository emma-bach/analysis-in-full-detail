\documentclass[10pt]{report}
\makeatletter

% custom margins
\usepackage[a4paper,margin=1in,rmargin=2.5in,marginparsep=16pt, marginparwidth=1.5in]{geometry}
\renewcommand{\baselinestretch}{1.2}

%\AddToHook{cmd/section/before}{\clearpage}

% emma's long list of custom macros and universally used packages
\include{./macros-and-packages-en.tex}

% colored box behind proofs
\tcolorboxenvironment{proof}{
	colback=white,
	boxrule=0pt,
	frame hidden,
	borderline west={1.5pt}{0pt}{black!33!white},
	before skip=0.75cm,
	after skip=0.75cm,
	sharp corners,
	breakable,
	enhanced,
}

\newtcbtheorem[number within=lemma]{importanttheorem}{Theorem}{colback=white,
	colframe=black,
	sharp corners,
	enhanced,
	attach boxed title to top left ={
		xshift = 8pt, 
		yshift = -\tcboxedtitleheight/2,
		yshifttext=-\tcboxedtitleheight/2
	},
	boxed title style={
		colframe = white
	},
	colbacktitle=white,
	coltitle=black,
	fonttitle=\bfseries,
	boxrule=1.5pt
}{th}

\newtcbtheorem[number within=lemma]{importantdefinition}{Definition}{colback=white,
	colframe=black,
	sharp corners,
	enhanced,
	attach boxed title to top left ={
		xshift = 8pt, 
		yshift = -\tcboxedtitleheight/2,
		yshifttext=-\tcboxedtitleheight/2
	},
	%minipage boxed title*=-3cm,
	boxed title style={
		colframe = white
	},
	colbacktitle=white,
	coltitle=black,
	fonttitle=\bfseries,
	boxrule=1.5pt
}{th}

\newtcbtheorem[number within=lemma]{importantcorollary}{Corollary}{colback=white,
	colframe=black,
	sharp corners,
	enhanced,
	attach boxed title to top left ={
		xshift = 8pt, 
		yshift = -\tcboxedtitleheight/2,
		yshifttext=-\tcboxedtitleheight/2
	},
	%minipage boxed title*=-3cm,
	boxed title style={
		colframe = white
	},
	colbacktitle=white,
	coltitle=black,
	fonttitle=\bfseries,
	boxrule=1.5pt
}{th}

\newtcolorbox{importantbox}{colback=white,
	colframe=black,
	sharp corners,
	enhanced
}

\renewenvironment{proofsketch}{\begin{proof}[Proof Sketch]\renewcommand*{\qedsymbol}{\("\square"\)}}{\end{proof}}

\pagestyle{fancy} %allows headers

\lhead{Emma Yoneda}
\rhead{\today}

\begin{document}
	
	\include{title}
	\tableofcontents
	\thispagestyle{fancy}
	\part{Set Theory}
	\chapter{Axioms of Set Theory}
		\section{ZFC}
		\section{Operations on Sets}
		\section{Relations and Maps}
		\begin{theorem}
			\theoremname{Some identities for preimages}
			Let $f : X \to Y$ be a bijective map. Then for all $Y_i \subset Y$, the following identities hold:
			\begin{enumerate}
				\item The preimage of a union of sets is the union of the preimages:
				\begin{align*}
					f^{-1}\lr(\bigcup_{i \in I} Y_i) = \bigcup_{i \in I} f^{-1}(Y_i)
				\end{align*}
				\item The preimage of an intersection of sets is the intersection of the preimages:
				\begin{align*}
					f^{-1}\lr(\bigcap_{i \in I} Y_i) = \bigcap_{i \in I} f^{-1}(Y_i)
				\end{align*}
				\item The preimage of the complement of a set is the complement of its preimage:
				\begin{align*}
					f^{-1}(Y \setminus Y_i) = X \setminus f^{-1}(Y_i)
				\end{align*}
			\end{enumerate}
		\end{theorem}
		\section{Orders}
	\part{Algebraic Structures}
	\chapter{Ordered Fields}
		\begin{importantdefinition}{Ordered Commutative Ring}{}
			An \tbf{ordered commutative Ring} $(R, \leq)$ is a commutative Ring $R$ equipped with an \tbf{ordering relation} $\leq$, such that for all $a,b,c \in R$, we have:
			\begin{enumerate}
				\item $\leq$ defines a \tit{total order} on $F$. i.e:
				\begin{enumerate}
					\item $a \leq a$ (the order is \tit{reflexive}),
					\item $a \leq b \wedge b \leq c \implies a \leq c$ (the order is \tit{transitive}),
					\item $a \leq b \wedge b \leq a \implies a = b$ (the order is \tit{antisymmetric}),
					\item $a \leq b \vee b \leq a$ (the order is \tit{strongly connected})
				\end{enumerate}
				\item $a \leq b \implies a + c \leq b + c$
				\item $0 \leq a \wedge 0 \leq b \implies 0 \leq ab$
			\end{enumerate}
		\end{importantdefinition}
		\begin{lemma}
			For every ordered commutative Ring $(R, \leq)$ and $a \in R$, we have $-a \leq 0 \leq a$ or $a \leq 0 \leq -a$.
		\end{lemma}
		\begin{proof}
			Since the order $\leq$ is strongly connected, we have $a \leq 0$ or $0 \leq a$.
			\begin{enumerate}
				\item If $a \leq 0$, then we have $-a + a \leq 0 + -a$, i.e. $a \leq 0 \leq -a$,
				\item if $0 \leq a$, then we have $-a + 0 \leq -a + a$, i.e. $-a \leq 0 \leq a$
			\end{enumerate}
		\end{proof}
		\begin{lemma}
			Let $a \in (R, \leq)$. Then $0 \leq a^2$.
		\end{lemma}
		\begin{proof}
			Since the order $\leq$ is strongly connected, we have $a \leq 0$ or $0 \leq a$.
			\begin{enumerate}
				\item If $0 \leq a$, then we have $0 \leq a \cdot a = a^2$,
				\item if $a \leq 0$, then $0 \leq -a$ and we have $0 \leq -a \cdot (-a) = a^2$.
			\end{enumerate}
			 
		\end{proof}
		\begin{lemma}
			Every ordered field has characteristic $0$.
		\end{lemma}
		\begin{proof}
			Assume that $F$ is a field of characteristic $p$. Then an ordering relation would need to fulfill:
			\begin{align*}
				1 \leq 1 + 1 \leq \sum_{i = 1}^p 1 = 0 \leq 1
			\end{align*}
			Which implies $0 = 1$. However, by the definition of a field, we have $0 \neq 1$.
		\end{proof}
		\begin{lemma}
			Let $a \leq b$ and $c \geq 0$. Then $ac \leq bc$.
		\end{lemma}
		\begin{proof}
			Since $a \leq b$, we have $0 = a - a \leq b - a$. Therefore, we also have $0 \leq (b-a)c = bc - ac$. Adding $ac$ to both sides, we get $ac \leq bc$.
		\end{proof}
		\begin{corollary}
			Let $a \leq b$. Then $a^{-1} \geq b^{-1}$.
		\end{corollary}
		\begin{proof}
			\begin{align*}
						  a &\leq b\\
				\implies 1 = aa^{-1} &\leq ba^{-1}\\
				\implies b^{-1} &\leq b^{-1}ba^{-1} = a^{-1}
			\end{align*}
		\end{proof}
		\begin{summary}
			Let $F$ be an ordered Field and let $a,b,c \in F$ Then all of the following hold:
			\begin{multicols}{2}
				\begin{enumerate}
					\item $a \leq a$
					\item If $a \leq b$ and $b \leq c$, then $a \leq c$ (transitivity)
					\item If $a \leq b$ and $b \leq a$, then $a = b$ (antisymmetry)
					\item We always have at least one of $a \leq b$ and $b \leq a$
					\item If $a \leq b$, then $a + c \leq b + c$
					\item If $0 \leq a$ and $0 \leq b$, then $0 \leq ab$.
					\item If $0 \leq a$, then $-a \leq 0$.
					\item $0 \leq a^2$
					\item If $a \leq b$ and $c \geq 0$, then $ac \leq bc$.
					\item If $a \leq b$ and $c \leq 0$, then $ac \geq bc$.
				\end{enumerate}
			\end{multicols}
		\end{summary}
	\section{The Archimedean Property}
		\begin{definition}
			Let $F$ be an archimedean ordered field. Then we say that $F$ is \tbf{archimedean} if for every $x,y \in F_{> 0}$, there exists a natural number $n$ such that
			\begin{align*}
				nx  > y
			\end{align*}
		\end{definition}
		\begin{anmerkung}
			It follows immediately that if $F$ is non-archimedean, there exists $x,y \in F$ such that  for all natural numbers $n$, we have
			\begin{align*}
				nx < y
			\end{align*}
			which immediately implies
			\begin{align*}
				n_F = \sum_{k = 1}^n 1_F = \sum_{k = 1}^n x x^{-1} = x^{-1} nx < x^{-1}y := y'
			\end{align*}
			Therefore, there exists an element $y'$ that is "infinitely large", i.e. it is greater than the image of the embedding of any natural number into the field. It immediately follows that $\frac{1}{y'} < \frac{1}{n_F}$ for all $n \in \bN$, meaning that $F$ also contains "infinitely small" elements.
		\end{anmerkung}
	\section{Why always $\bR$?}
		If you're the kind of person who generally prefers algebra to analysis, you might have always felt unsatisfied by a seeming lack of generality to analysis - why does everyone only ever seem to care about $\bR$? The goal of this chapter is to make you feel like you finally have a satisfying answer - we will prove that $\bR$ is \tit{the only} ordered field, up to isomorphism, that has the key property that every bounded set has a least upper bound. 
		\newpar
		Whenever someone gives a definition explicitly concerning $\bR$, they are giving a definition concerning ordered fields with the least upper bound property - it just so happens that $\bR$ is the only such field!
		\subsection{Subfields of ordered fields}
		\begin{theorem}
			Let $F$ be an archimedean ordered field. Then $F$ is isomorphic to a subfield of the real numbers $\bR$.
		\end{theorem}
		This means that $\bR$ can be viewed as a "maximal archimedean ordered field". Later we will prove that $\bR$ is also unique up to isomorphism, meaning that it is \tit{the} maximal archimedean ordered field. This realization is a key step on our journey of justifying the ubiquity of the real numbers.
		\subsection{The least upper bound property}
		\begin{definition}
			Let $F$ be an ordered field. We say that $F$ has the \tbf{least upper bound property}, or alternatively that $F$ is \tbf{Dedekind complete}, if every subset of $F$ that has an upper bound in $F$ has a least upper bound in $F$.
		\end{definition}
		\begin{theorem}
			$F$ has the least upper bound property if and only if it has the equivalent "greatest lower bound property", i.e. every subset of $F$ that has a lower bound in $F$ has a greatest lower bound in $F$.
		\end{theorem}
		\begin{theorem}
			Let $F$ be a non-archimedean ordered field. Then $F$ does not have the least-upper-bound property.
		\end{theorem}
		\begin{proof}
			Since $F$ is an ordered field, it must have characteristic $0$. Let $N_F$ be the infinite set
			\begin{align*}
				N_F : \lr{\sum_{k = 0}^n 1_F : n \in \bN}
			\end{align*}
			Since $F$ is non-archimedean, there exists an element $x$ such that for all $n \in N_F$, we have $n < x$. However, for any upper bound $b$ of $N_F$, we have that for all $n \in N_F$, $b > n+1 \in N_F$. Therefore, $b-1$ is also an upper bound, meaning that no least upper bound exists.
		\end{proof}
		Importantly, this immediately implies that Cauchy-completeness of an ordered field is \tit{not} equivalent to Dedekind-completeness!
		\begin{corollary}
			Let $F$ be an ordered field. Then $F$ has the least-upper-bound property if and only if it is archimedean and Cauchy complete.
		\end{corollary}
		\begin{theorem}
			Every ordered field with the least upper bound property is isomorphic. Therefore the real numbers $\bR$ are, up to isomorphism, the only ordered field with the least upper bound property.
		\end{theorem}
		\subsection{Alternative completeness properties}
		
	\part{Topology}
		\chapter{Metric Spaces and Topological Spaces}
		\section{Vocabulary}
		\begin{definition}
			Let $X$ be a topological space, $x \in X$, and $V \subset X$. We call $V$ a \tit{neighborhood of $x$} if there exists an open set $U \subset V$ such that $x \in U$.
		\end{definition}
		\begin{theorem}
			Let $X$ be a topological space and let $V \subset X$. Then $V$ is open if and only if for every $x \in V$, $V$ is a neighborhood of $x$.
		\end{theorem}
		\begin{proof}
			If $V$ is open then it is trivially a neighborhood of all of its points.
			\newpar
			Assume that $V$ is a neighborhood of all its points. Let $U_x \subset V$ be the necessary open set containing $x \in V$ that makes $V$ a neighborhood of $x$. Then since every $U_x$ is a subset of $V$ we have
			\begin{align*}
				\bigcup_{x \in V} U_x \subset V
			\end{align*}
			and since every $x \in V$ is contained in some $U_x$ we also have
			\begin{align*}
				V \subset \bigcup_{x \in V} U_x
			\end{align*}
			Therefore $V$ is a union of open sets, making it open.
		\end{proof}
		\begin{definition}
			Let $X$ be a topological space. We say that a subset of $X$ is $F_\sigma$ (from French "\tit{fermé}", "closed", and "\tit{somme}", "sum, union") if it is a countable union of closed sets. Dually, we say it is $G_\delta$ (from German "\tit{Gebiet}", an old term for "open set", and "\tit{Durschschnitt}", "average, intersection") if it is a countable intersection of open sets. 
		\end{definition}
		\begin{theorem}
			The complement of a $G_\delta$ set is $F_\sigma$ and vice versa.
		\end{theorem}
		\section{Continuity}
		The notion of continuity is central to analysis (and of key importance to mathematics and general), and one could argue the most important reason why the field of topology is of interest in the first place is because it gives us the most general setting in which we can define a notion of a continuous function. There are many different definitions of continuity in various levels of generality.
		\begin{definition}
			Let $f : X \to Y$ be a function between topological spaces. We call $f$ \tbf{continuous} if the preimage $f^{-1}(U)$ of any open set $U$ is again an open set.
		\end{definition}
		If the two extreme topologies are involved, continuity of a function is often trivial to verify:
		\begin{theorem}
			\label{theorem:trivialcontinuity}
			Let $f : X \to Y$ be a function between topological spaces. Assume $Y$ has the trivial topology. Then $f$ is continuous.
		\end{theorem}
		\begin{proof}
			By definition of the trivial topology, the only open sets in $Y$ are $Y$ itself and the empty set. We have $f^{-1}(Y) = X$, which is open, and $f^{-1}(\emptyset) = \emptyset$, which is also open.
		\end{proof}
		\begin{theorem}
			\label{theorem:discretecontinuity}
			Let $f : X \to Y$ be a function between topological spaces. Assume $X$ has the discrete topology. Then $f$ is continuous.
		\end{theorem}
		\begin{proof}
			Every subset of $X$ is open, therefore every preimage of $f$ must be open.
		\end{proof}
		\begin{definition}
			Let $f: X \to Y$ be a function between topological spaces. Let $x \in X$. We call $f$ \tbf{continuous at $x$} if, for any neighborhood $V \subset Y$ of $f(x)$, there exists a neighborhood $U \subset X$ of $x$ such that $f(U) \subset V$.
		\end{definition}
		
		\begin{lemma}
			$f: X \to Y$ is continuous at $x \in X$ if and only if, for every neighborhood $V \subset Y$ of $f(x)$, we have that $f^{-1}(V)$ is a neighborhood of $x$.
		\end{lemma}
		\begin{proof}
			\phantom{}
			\begin{itemize}
				\item[$\Longrightarrow:$] If $f(U) \subset V$, then by the definition of preimages we have $U \subset f^{-1}(V)$. Therefore, since $U$ is a neighborhood of $x$, the superset $f^{-1}(V)$ must be a neighborhood of $x$ as well.
				\item[$\Longleftarrow:$] If $f^{-1}(V)$ is a neighborhood of $x$, then $U = f^{-1}(V)$ already fulfills our definition.
			\end{itemize}
		\end{proof}
		\begin{theorem}
			$f : X \to Y$ is continuous if and only if it is continuous at every point $x \in X$.
		\end{theorem}
		\begin{proof}
			\phantom{}
			\begin{itemize}
				\item[$\Longrightarrow$:] Let $f$ be continuous and let $x \in X$. Then if $V$ is a neighborhood of $f(x)$, there must exist an open set $U$ such that contains $f(x) \in U \subset V$. Then $f^{-1}(U) \subset f^{-1}(V)$ is an open set containing $x$, meaning that $f^{-1}(V)$ is a neigborhood of $x$. Therefore $f$ is continuous at every $x$
				\item[$\Longleftarrow$:] Let $V \subset X$ be open. Then $f^{-1}(V)$ is a neighborhood every $x \in f^{-1}(V)$. Therefore, $f^{-1}(V)$ is open.
			\end{itemize}
		\end{proof}
		\begin{definition}
			Let $f : X \to Y$ be a function between topological spaces. We call $f$ \tbf{sequentially continuous at a point $x$} if, for every sequence $x_n$ such that $\lim_{n \to \infty} x_n = x$, we have
			$\lim_{n \to \infty} f(x_n) = f(x)$. We say the function is \tbf{sequentially continuous} if this condition holds for every point $x \in X$.
		\end{definition}
		This definition most directly captures the intuitive idea that a function is continuous if $f(x)$ gets arbitrarily close to $f(y)$ whenever $x$ gets arbitrarily close to $y$.
		\begin{theorem}
			Every continuous function is sequentially continuous.
		\end{theorem}
		\begin{theorem}
			If $X$ is first-countable (and we assume the axiom of choice), then any sequentially continuous function is continuous.
		\end{theorem}
		\begin{corollary}
			A function $f : X \to Y$ from a first-countable space $X$ into any topological space $Y$ is continuous if and only if it is sequentially continuous.
		\end{corollary}
		In particular, continuity and sequential continuity are equivalent for functions between metric spaces.
		\begin{theorem}[\theoremname{Epsilon-Delta-Criterion}]
			Let $f : M \to N$ be a function between metric spaces. Then $f$ is continuous at a point $x \in M$ if and only if for every $\epsilon \in \bR_{> 0}$, there exists a $\delta \in \bR_{> 0}$ such that for all $y \in M$, we have that
			\begin{align*}
				d_M(x,y) < \delta \implies d_N(f(x),f(y)) < \epsilon
			\end{align*}
		\end{theorem}
		This is the standard definition of continuity used in most introductory courses in real analysis, since it can be easily defined for $f : \bR \to \bR$ even if topological spaces and metric spaces haven't been introduced yet. Since it is only defined for functions between metric spaces, it is less general than most of our other definitions, but it has the advantage of often leading to simpler proofs.
		\begin{proof}
			\begin{itemize}
				\item[$\Rightarrow$:] Assume that $f$ is sequentially continuous at a point $x$, but that the given condition doesn't hold. Then there exists an $\epsilon \in \bR_{> 0}$ such that for every $\delta \in \bR_{> 0}$, there exists an $x_\delta \in M$ such that
				\begin{align*}
					d_M(x,x_\delta) \leq \delta, \textnormal{ but } d_N(f(x), f(x_\delta)) \geq \epsilon
				\end{align*}
				Therefore, if we define $\delta_n := \frac{1}{n}$, then the sequence $x_{\delta_n}$ converges to $x$, but the sequence $f(x_{\delta_n})$ doesn't converge to $f(x)$, since $d_N(f(x), f(x_\delta)) \geq \epsilon > 0$.
				\item[$\Leftarrow$:] Let $x_n$ be a sequence with $\lim_{n \to \infty} = x$ which fulfills our condition. We need to show $\lim_{n \to \infty} f(x_n) = f(x)$, meaning that for every $\epsilon \in \bR_{> 0}$, we need to find an $N \in \bN$, such that for all $n \geq N$, we have
				\begin{align*}
					d_N(f(x_n) - f(x)) < \epsilon
				\end{align*}
				by our epsilon-delta condition, this holds for every $x_n$ such that $d(x_n, x) < \delta$. Since $\lim_{n \to \infty} x_n = x$, we can find an $N$ such that this condition is fulfilled for all $n > N$. Therefore does $f(x_n)$ indeed converge to $f(x)$.
			\end{itemize}
		\end{proof}
		\begin{theorem}
			$X$ be a topological space and let $A \subset X$. Then, assuming the discrete topology on $\lr{0,1}$, the characteristic function $\chi_A : X \to \lr{0,1}$ is continuous at a point $x \in X$ if and only if $x \in \tn{int}(A)$ or $x \in \tn{int}(X \setminus A)$.
		\end{theorem}
		\begin{proof}
			\begin{enumerate}
				\item Let $x \in \tn{int}(A)$. Then by definition of the interior of a set there exists an open set $U \subset A$ that contains $x$. Since $U \subset A$, we have $f(U) = \lr{1}$. Therefore, if $V$ is a neighborhood around $f(x) = 1$, then $f^{-1}(V)$ must contain $U$, making it a neighborhood of $x$.
				\item Let $x \in \tn{int}(X \setminus A)$. Then the same argument as before applies, except we have a $U \subset X \setminus A$ with $f(U) = \lr{0}$.
				
				\item Let $x \in \partial A$ with $x \in A$. Then $V = \lr{1}$ is an open neighborhood of $f(x)$, but $f^{-1}(V) \subset A$. However, since $x$ is on the boundary of $A$, every open set containing $x$ must contain points in $X \setminus A$. Therefore $f^{-1}(V)$ cannot be a neighborhood of $x$.
				
				\item Let $x \in \partial A$ with $x \in X \setminus A$. Then the same argument applies to $V = \lr{0}$, since $f^{-1}(V)$ cannot contain points in $A$.
			\end{enumerate}
		\end{proof}
		\begin{anmerkung}
			We have to assume the discrete topology on $\lr{0,1}$, since if $\lr{0}$ is not open, then the function ends up continuous at points $x \in \partial A \setminus A$, and if $\lr{1}$ is not open, then the function ends up continuous at points $x \in \partial A \cap A$.
		\end{anmerkung}
		\begin{corollary}
			The characteristic function of the rational numbers (also known as the \tbf{Dirichlet function}) is nowhere continuous.
		\end{corollary}
		\begin{proof}
			Assuming the standard topology on $\bR$, the interiors of both $\bQ$ and $\bR \setminus \bQ$ are empty.
		\end{proof}
		\begin{theorem}
			\theoremname{(A function continuous at exactly one point)}: The function $f : \bR \to \bR$ with
			\begin{align*}
				f(x) = x \cdot \chi_{\bQ}(x) = \begin{cases}
					x & x \in \bQ\\
					0 & x \notin \bQ
				\end{cases}
			\end{align*}
			is continuous at $0$ and discontinuous at every other point.
		\end{theorem}
		\begin{proof}
			\begin{enumerate}
				\item Let $V$ be a neighborhood of $f(0) = 0$. Then by definition, there must be an $\epsilon > 0$ such that $(-\epsilon,\epsilon) \in V$. Then since $f(x) \leq x$, we have $f^{-1}(y) \geq y$, implying that
				\begin{align*}
					(-\epsilon,\epsilon) \subset f^{-1}((-\epsilon,\epsilon)) \subset f^{-1}(V)
				\end{align*}
				and therefore $f^{-1}(V)$ is a neighborhood of $0$.
				\item Let $x \in \bQ \setminus \lr{0}$. Then, since all irrationals get mapped to zero, the preimage of $(\frac{1}{2}x, \frac{3}{2}x)$ only contains rational numbers and therefore cannot be a neighborhood of $x$.
				\item Let $x \notin \bQ$. Then the preimage of $(-\frac{1}{2}x, \frac{1}{2}x)$ contains $x$, but not any rationals between $x$ and $\frac{1}{2}x$, and therefore cannot be a neighborhood of $x$.
			\end{enumerate}
		\end{proof}
		\begin{theorem}
			\theoremname{(A function only continuous at the irrationals)} \tbf{Thomae's function} $T : \bR \to \bR$, defined as
			\begin{align*}
				T(x) =
				\begin{cases}
					\frac{1}{q} & x \in \bQ, x = \frac{p}{q}, \tn{$p$, $q$ have no common divisors}\\
					0 & x \notin \bQ
				\end{cases},
			\end{align*}
			is discontinuous at every rational number and continuous at every irrational number.
		\end{theorem}
		Thomae's function has many other names - it is also known the \tit{modified Dirichlet function}, the \tit{Riemann function}, or under more whimsical names such as the \tit{popcorn function}, \tit{raindrop function}, \tit{countable cloud function}, or the \tit{Stars over Babylon} (due to John Horton Conway, one of the coolest mathematicians of all time).
		\newpar
		Recall that we call a set $F_\sigma$ if it is a countable union of closed sets, and that we call a set $G_\delta$ if it is a countable intersetion of open sets.
		\begin{theorem}
			\theoremname{(A function discontinuous at an arbitrary $F_\sigma$-set)}
			Let $F = \bigcup_{n \in \bN} F_n$ be a countable union of closed sets $F_n$. For any point $x \in F$, let $n(x)$ be the smallest natural number such that $x \in F_{n(x)}$. Then the function $f_F : \bR \to \bR$ defined by
			\begin{align*}
				f_F(x) =
				\begin{cases}
					\frac{1}{n(x)} & x \in F, x \in \bQ\\
					-\frac{1}{n(x)} & x \in F, x \notin \bQ\\
					0 & x \notin F
				\end{cases}
			\end{align*}
			is continuous at every $x \in X \notin F$ and discontinuous at every $x \in F$
		\end{theorem}
		\begin{corollary}
			\theoremname{(Functions continuous at an arbitrary $G_\delta$-set)}
			Since the complement of a $G_\delta$-set is $F_\sigma$, we can use the same construction to construct a function that is continuous at an arbitrary $G_\delta$-subset of $\bR$. 
		\end{corollary}
		\begin{proposition}
			Let $f$ be a function between complete metric spaces. Then the set of continuities of $f$ is $G_\delta$ and the set of discontinuities of $f$ is $F_\sigma$.
		\end{proposition}
		\begin{corollary}
			There is no function $f : \bR \to \bR$ that is only continuous at the rationals.
		\end{corollary}
		\begin{proof}
			The irrationals are uncountable and the rationals are dense in the reals.
			Any countable union of closed sets either only contains singleton sets, in which case it is countable, or contains at least one non-singleton interval, in which case it contains rational numbers. Therefore the irrationals are not $F_\sigma$ and the rationals are not $G_\delta$.
		\end{proof}
	\chapter{Topological Manifolds}
	\begin{lemma}
		Let $M$ be a topological space. Then the following are equivalent:
		\begin{enumerate}
			\item Every point in $M$ has a neighborhood that is homeomorphic to an open subset of $\bR^n$.
			\item Every point in $M$ has a neighborhood that is homeomorphic to an open ball in $\bR^n$.
			\item Every point in $M$ has a neighborhood that is homeomorphic to $\bR^n$.
		\end{enumerate}
		If $M$ has this property, we call it \tbf{locally Euclidean of dimension $n$.}.
	\end{lemma}
	Notably, a topological space $M$ is locally euclidean of dimension $0$ if and only if every open subset is homeomorphic to $\bR^0 = \lr{0}$, i.e. every open set contains a single point, i.e. $M$ is discrete.
	\begin{definition}
		Let $M$ be locally euclidean of dimension $n$. Let $U \subset M$ be open. Then:
		\begin{enumerate}
			\item We call $U$ a \tbf{coordinate domain},
			\item We call any homeomorphism $\phi : U \to V$ to an open subset $V \subseteq \bR^n$ a \tbf{coordinate map},
			\item We call the pair $(U, \phi)$ is a \tbf{coordinate chart}, or just \tbf{chart}.
		\end{enumerate}
	\end{definition}
	\begin{definition}
		Let $M$ be a topological space. Then we call $M$ an \tbf{$n$-dimensional topological manifold} if it is:
		\begin{enumerate}
			\item Hausdorff, and
			\item second-countable, and
			\item locally Euclidean of dimension $n$.
		\end{enumerate}
	\end{definition}
	Some authors omit the latter two conditions, but virtually all important examples of locally euclidean topological spaces do fulfill these properties, and most interesting theorems about topological manifolds require them, so not much is gained by working with a more general definition.
	\begin{theorem}
		Every open subset of an $n$-dimensional topological manifold is itself an $n$-dimensional topological manifold.
	\end{theorem}
	\begin{theorem}
		A topological space is a $0$-manifold if and only if it is a countable discrete space.
	\end{theorem}
	The two following theorems are of fundamental importance, but the proofs sadly require additional machinery that we will not establish here:
	\begin{proposition}
		If $m \neq n$, then a nonempty topological space cannot be both an $m$-manifold and an $n$-manifold.
	\end{proposition}
	Note that the empty set is explicitly excluded, since it does in fact qualify as a manifold of any arbitrary dimension.
	\begin{proposition}
		Every topological $n$-manifold is homeomorphic to a subset of a Euclidean space $\bR^k$, where $k \geq n$.
	\end{proposition}
	\begin{corollary}
		Every topological manifold is separable and metrizable.
	\end{corollary}
	\chapter{Topological Vector Spaces}
		\section{Normed Vector Spaces}
		\section{Banach Spaces}
		\section{Hilbert Spaces}
		\section{Topological Vector Spaces}
	\chapter{Uniform Spaces}
	Many theorems in analysis require a notion of \tit{uniform convergence}, \tit{uniform continuity}, and so on. These ideas can be easily expressed in a metric space - recall that, for example, a function $f: M \to N$ between metric spaces is uniformly continuous if there exists a $\delta > 0$ such that for every $\epsilon > 0$, we have that if $d_M(x,y)  < \delta$, then $d_N(f(x),f(y)) < \epsilon$.
	\newpar
	Meanwhile, we wouldn't be able to refine the definition of continuity like this in a topological space, since the general structure of the neighborhoods of a topological space might vary wildly at different locations in the space - the important quality of a metric space here is that the notion of distance in a metric space can be applied "uniformly" to pairs of points, no matter where they are located. In this section, we want to define a set of spaces more general than metric spaces, but less general than topological spaces, which shares this important property of "uniformity", which will allow us to generalize many useful properties of metric spaces.
	\section{Diagonal Uniformity}
	\begin{definition}
		For any set $X$, we denote by $\Delta(X)$ the diagonal $\lr{(x,x) \mid x \in X}$ in $X \times X$.
	\end{definition}
	Our first definition of a \tit{uniform structure} on a set $X$ is based on the observation that in a metric space, $x$ and $y$ are close together if and only if $(x,y)$ is close to $\Delta(X)$.
	\begin{definition}
		For any pair of subsets $U,V$ of $X \times X$ (which by definition can be viewed as relations on $X$), we can extend the notion of function composition to these arbitrary relations by defining $U \circ V$ to be the set
		\begin{align*}
			\lr{(x,y) \in X \times X \mid \exists z \in X : ((x,z) \in V, (z,y) \in U}
		\end{align*}
	\end{definition}
	\begin{definition}
		A \tbf{diagonal uniformity} on a set $X$ is a collection $\cD(X)$ of subsets of $X \times X$, called \tbf{surroundings}, such that:
		\begin{enumerate}
			\item If $D \in \cD$, then $\Delta(X) \subset D$,
			\item If $D_1, D_2 \in \cD$, then $D_1 \cap D_2 \in \cD$,
			\item If $D \in \cD$, then there exists an $E \in \cD$ such that $E \circ E \subset D$,
			\item If $D \in \cD$, then there exists an $E \in \cD$ such that $E^{-1} \subset D$
			\item If $D \in \cD$ and $D \subset E$, then $E \in \cD$.
		\end{enumerate}
		We call a set $X$ equipped with such a structure a \tbf{uniform space}.
	\end{definition}
	\begin{example}
		For any metric space $(M,d)$, the metric $d$ generates a \tit{metric uniformity} by having a surrounding
		\begin{align*}
			D_\epsilon^d = \lr{(x,y) \in M \times M \mid d(x,y) < \epsilon}
		\end{align*}
		for every $\epsilon > 0$. Uniformities that can be generated in this way from metrics are called \tbf{metrizable}.
	\end{example}
	\begin{anmerkung}
		For an arbitrary metric $d$, the uniformity generated by $d$ is identical to the one generated by a scaled version $\lambda d$ (with $\lambda \in \bR^\times$). Therefore different metrics may generate the same uniformity.
	\end{anmerkung}
	\part{Differentiation}
	\chapter{Differentiation in Normed Vector Spaces}
		\section{The Fréchet Derivative}
		\begin{definition}
			\theoremname{Fréchet Derivative}
			Let $(V, \norm{-}_V$, $(W, \norm{-}_W)$ be normed vector spaces. Let $x \in U \subset V$. Then a map $f : U \to W$ is called \tbf{Fréchet differentiable at $x_0$}, \tbf{totally differentiable at $x_0$}, or just \tbf{differentiable at $x_0$}, if there exists a bounded linear map $A : V \to W$ such that
			\begin{align*}
				\lim_{h \to 0} \frac{\norm{f(x_0 + h) - f(x_0) - A(h)}_W}{\norm{h}_V} = 0
			\end{align*}
			$f$ is called (Fréchet / totally) differentiable if it is differentiable at every point.
		\end{definition}
		\begin{theorem}
			If such an $A$ exists, it is unique. We call it the \tbf{Fréchet derivative}, \tbf{differential}, or \tbf{derivative}, of $f$ at $x$, and denote it as:
			\begin{align*}
				Df(x) := A
			\end{align*}
		\end{theorem}
		Some comments:
		\begin{enumerate}
			\item In the case $f : \bR \to \bR$, the linear maps $\bR \to \bR$ are exactly the maps $x \mapsto cx$, with $c$ constant. Therefore if $f$ is a function $\bR \to \bR$, then assuming the standard absolute value norm on $\bR$, this expression can be rearranged to give us the classic definition of a derivative:
			\begin{align*}
				\lim_{h \to 0} &\frac{\norm{f(x_0 + h) - f(x_0) - A(h)}_\bR}{\norm{h}_\bR} = 0\\
				\Longleftrightarrow
				\lim_{h \to 0} &\frac{\abs{f(x_0 + h) - f(x_0) - c \cdot h}}{\abs{h}} = 0\\
				\Longleftrightarrow
				\lim_{h \to 0} &\frac{f(x_0 + h) - f(x_0) - c \cdot h}{h} = 0\\
				\Longleftrightarrow
				\lim_{h \to 0} &\frac{f(x_0 + h) - f(x_0)}{h} - c = 0\\
				\Longleftrightarrow
				\lim_{h \to 0} &\frac{f(x_0 + h) - f(x_0)}{h} = c\\
			\end{align*}
			In this case, we generally write $c := f'(x_0)$.
			
			However, note that under our general definition of a derivative, the derivative is a \tit{map}, meaning that the derivative $Df(x)$ of $f : \bR \to \bR$ at $x$" is \tit{technically} not the scalar $f'(x) \in \bR$, but instead the linear map
			\begin{align*}
				Df(x): \bR &\to \bR\\
				t &\mapsto f'(x) \cdot t
			\end{align*}		
			\item The definition demands that $A$ be a \tit{bounded} linear map. However, recall that if $V$ is finite-dimensional, every linear map from $V$ is inherently bounded, so this additional constraint is only relevant if $V$ is infinite-dimensional.
			\item If $V$ and $W$ are finite-dimensional vector spaces over the same field $\bF$, $A$ is a matrix, and we can write $A \cdot h$ instead of $A(h)$.
		\end{enumerate}
		\begin{definition}
			We call $f : U \to W$ \tbf{continuously differentiable} if the function
			\begin{align*}
				Df : U &\to \hom(V,W)\\
					 x &\mapsto Df(x)
			\end{align*}
			is continuous. We denote the set of continuously differentiable functions $U \to W$ as $\cC^1(U,W)$.
		\end{definition}
		\begin{proposition}
			\phantom{}
			\begin{enumerate}
				\item Every constant map is totally differentiable with total derivative $0$.
				\item Every bounded linear map $F$ is totally differentiable with total derivative $F$.
			\end{enumerate}
		\end{proposition}
		\begin{theorem}
			\theoremname{Differential of Multiplication}
			The multiplication operator
			\begin{align*}
				M : \bF^2 &\to \bF\\
					\vx &\mapsto x_1 \cdot_\bF x_2
			\end{align*} 
			is differentiable, with derivative:
			\begin{align*}
				DM(\vx) = (x_2,x_1)
			\end{align*}
		\end{theorem}
		\begin{proof}
			We have:
			\begin{align*}
				&M(\vx + \vh) - M(\vx) - DM(\vh) \\
				= &(x_1 + h_1)(x_2 + h_2) - x_1x_2 - h_1x_2 - h_2x_1\\ 
				= &x_1x_2 + x_1h_2 + h_1x_2 + h_1h_2 - x_1x_2 - h_1x_2 - h_2x_1\\
				= &h_1 \cdot h_2 
			\end{align*}
			Since norms on finite dimensional vector spaces are equivalent, we can assume the Maximum norm on $\bF^2$, and get:
			\begin{align*}
				&\lim_{\vh \to \vzero} \frac{\norm{h_1 \cdot h_2}_{\bF}}{\norm{\vh}_{\max}}\\
				= &\lim_{\vh \to \vzero} \frac{\norm{h_1 \cdot h_2}_{\bF}}{\max\lr{\abs{h_1}, \abs{h_2}}}\\
				= &\lim_{\vh \to \vzero} \frac{\norm{h_1 \cdot h_2}_{\bF}}{\max\lr{\abs{h_1}, \abs{h_2}}}\\
				= &\lim_{\vh \to \vzero} \frac{\abs{h_1}_\bF \abs{h_2}_\bF}{\max\lr{\abs{h_1}, \abs{h_2}}}\\
				= &\lim_{\vh \to \vzero} \abs{\min\lr{h_1, h_2}}_\bF\\
				= &~0
			\end{align*}
		\end{proof}
		\begin{proposition}
			\theoremname{Linearity of the differential operator}
			Let $V, W$ be normed vector spaces over a field $\bF$, and let $F,G: V \supset U \to W$ be totally differentiable at $\vx \in U$. Let $c \in \bF$. Then:
			\begin{enumerate}
				\item $D(cF)(\vx) = c \cdot (DF(\vx))$
				\item $D(F + G)(\vx) = DF(\vx) + DG(\vx)$
			\end{enumerate}
		\end{proposition}
		\begin{align*}
		\end{align*}
		\section{Divergence and Curl}
		\begin{definition}
			\theoremname{Divergence of a Vector Field}
			Let 
			\begin{align*}
				f : \bR^m \supset S &\to \bR^n\\
				x &\mapsto (f_1(x), \hdots, f_n(x))
			\end{align*} be continuously differentiable. Then the \tbf{divergence} of $f$ is defined to be
			\begin{align*}
				\div f = \tr Df
			\end{align*}
		\end{definition}
		\begin{anmerkung}
			If we assume the standard base on $\bR^n$, we have:
			\begin{align*}
				\div f = \tr(Df) =  \sum_{i = 1}^n \frac{\partial}{\partial x_i} f_i(x)
			\end{align*}
		\end{anmerkung}
		$\div f$ is sometimes written as $\nabla \cdot f$, which is horrendous notation that I will stay far away from.
		\newpar
		$\div f$ has a nice physical interpretation: Imagine $f$ as a physical vector field describing the flow of a fluid. Take a neighborhood around a point $x$, measure the amount of fluid flowing out of that neighborhood, and subtract the amount of fluid flowing into that neighborhood. Then $(\div f)(x)$ is the limiting value of this operation as we let our neighborhoods converge to the point $x$ itself.
		\newpar
		This means that $x$ is a \tit{source} iff $(\div f)(x) > 0$, and a \tit{sink} iff $(\div f)(x) < 0$.
	\chapter{Differentiable Manifolds}
		\section{Differentiable Manifolds}
		\begin{definition}
			We say a map is "$\cC^n$" if its first $n$ derivatives exist and are continuous. If $f \in \cC^n$ is bijective such that $f^{-1} \in \cC^n$, then we call $f$ a \tbf{$\cC^n$-diffeomorphism}.
		\end{definition}
		Under the convention that the $0$th derivative of $f$ is $f$ itself, a $C^0$-diffeomorphism is the same thing as a homeomorphism.
		\section{Inverse Function Theorem}
		\begin{importanttheorem}{Inverse Function Theorem}{}
			Let $X, Y$ be finite-dimensional real affine spaces, let $U \subset X$ be open and let $f : U \to Y$ be $\cC^n$.
			Then if the differential $Df(p)$ at a point $p \in U$ is invertible, There exists an open set $V$ with $p \in V \subset U$ such that $f|_V$ is a $\cC^n$-diffeomorphism.
		\end{importanttheorem}
		\section{Implicit Function Theorem}
	\part{Measure and Integration}
	\chapter{The Riemann Integral}
	\chapter{Measure Theory}
		\section{The Measure Problem}
		The most basic goal of measure theory is to establish a generalized notion of a "measure function", which assigns a "volume" to a given set. In particular, we would like to establish a function that assigns volume functions to subsets of $\bR^n$ and has the following three properties:
		\begin{enumerate}
			\item When given a subset with an easily intuitively definable volume, the volume function should agree with that volume. In particular, the volume of a cuboid should be the product of the lengths of its sides, and the length of a real interval $(a,b)$ should be $b-a$.
			\item The volume of a countable disjoint union of sets should be the sum of the individual volumes. This property is generally referred to as \tit{$\sigma$-additivity}.
			\item The volume should be invariant under isometries, i.e. functions like rotations, translations, and reflections should not change the volume of a set.
		\end{enumerate}
		We call a $\sigma$-additive function a \tit{measure}.
		It will turn out that there exists exactly one function on $\bR^n$, called the \tit{Lebesque measure} $\lambda^n$, that fulfills these conditions for a very large family of sets (the so-called "Borel $\sigma$-Algebra") - enough to include every "somewhat reasonable" subset of $\bR^n$. However, there are still counterexamples.
		\begin{proposition}
			Every subset of $\bR^n$ being Lebesque-measurable is consistent with ZF (without the axiom of choice).
		\end{proposition}
		\begin{theorem}
			Assuming the axiom of choice, there exist subsets of $\bR^n$ that cannot be assigned a volume without arriving at a contradiction.
		\end{theorem}
		It turns out that this result crucially relies on the full axiom of choice, and in particular is not implied by commonly used weaker forms of the axiom of choice such as the axiom of dependent choice.
		\newpar
		The following two subsections deal with two different ways of proving this theorem by construction \tit{non-measurable sets}: The \tit{Vitali Sets}, and the decomposition of a sphere given in the \tit{Banach-Tarski-Paradox}.
		\subsection{Vitali Sets}
		\begin{proposition}
			The relation $x \sim y \Leftrightarrow x - y \in \bQ$ is an equivalence relation on the real numbers.
		\end{proposition}
		\begin{theorem}
			There exist sets $V \subset [0,1]$ such that for each $r \in \bR$, there exists exactly one number $v \in V$ such that $v - r$ is rational. We call such a set a \tbf{Vitali Set}.
		\end{theorem}
		\begin{proof}
			Consider the aforementioned equivalence relation $x \sim y$ on $\bR$. Each equivalence class must contain at least one representative also contained in $[0,1]$, since if $x - y  = q \in \bQ$, we have $x - (y +  q) \in \bQ$ for all $q \in \bQ$, letting us pick a $q$ such that $x- (y+q) \in [0,1]$. Being equivalence classes, they must also be disjoint.
			\newpar
			This means we can use the axiom of choice to pick exactly one element of each equivalence class of $\sim$, giving us our set $V$.
		\end{proof}
		\begin{lemma}
			Let $q_1, q_2, \hdots$ be an enumeration of $\bQ \cap [-1,1]$. Then for $j \neq k$, we have
			\begin{align*}
				(q_j + V) \cap (q_k + V) = \emptyset
			\end{align*}
		\end{lemma}
		\begin{proof}
			Assume the intersection is non-empty. Then there exist $v_1,v_2 \in V$ such that $q_j + v_1 = q_k + v_2$, meaning $v_1 - v_2 \in \bQ$. Therefore, $v_1$ must be in the same equivalence class as $v_2$. Since $V$ contains exactly one element of each equivalence class, we have $v_1 = v_2$, and therefore we also have $q_j = q_k$, i.e. $j = k$.
		\end{proof}
		\begin{lemma}
			We have
			\begin{align*}
				[0,1] \subset \bigcup_{k \in \bN} (q_k + V) \subset [-1,2]
			\end{align*}
		\end{lemma}
		\begin{proof}
		\begin{enumerate}
			\item $\displaystyle \bigcup_{k \in \bN} (q_k + V) \subset [-1,2]$ follows trivially from $q_k \in [-1,1]$ and $V \subset [0,1]$.
			\item $\displaystyle [0,1] \subset \bigcup_{k \in \bN} (q_k + V)$ follows from the definition of $V$, since for every $y \in [0,1]$ we have a unique $v \in V$ such that $y-v := q \in \bQ$, and since $y \in [0,1]$ and $v \in [0,1]$, we have $q \in [-1,1]$, i.e. $q$ is contained in our enumeration.
		\end{enumerate}
		\end{proof}
		\begin{corollary}
			Vitali sets are not measurable by any translation-invariant measure.
		\end{corollary}
		\begin{proof}
			Assume that $\lambda^1$ is our desired Lebesque measure on $\bR$, which is invariant under isometries and countably additive. Then we have
			\begin{align*}
				1 = \lambda^1([0,1]) \leq \lambda^1\lr(\bigcup_{k \in \bN} (q_k + V)) \leq \lambda^1\lr([-1,2]) = 3
			\end{align*}
			Since our measure is countably addiive and invariant under isometries, we can translate each individual set and preserve the measure:
			\begin{align*}
				\lambda^1\lr(\bigcup_{k \in \bN} (q_k + V)) 
				&= \sum_{k \in \bN} \lambda^1\lr(q_k + V)\\
				&= \sum_{k \in \bN} \lambda^1\lr(V)
			\end{align*}
			Now, if $\lambda^1(V) \leq 0$, we wouldn't have $1 \leq \sum_{k \in \bN} \lambda^1\lr(V)$, and if $\lambda^1(V) > 0$, we wouldn't have $\sum_{k \in \bN} \lambda^1\lr(V) \leq 3$. Therefore every possible measure we could assign to $V$ leads to a contradiction.
		\end{proof}
		\subsection{The Banach-Tarski Paradox}
		\begin{theorem}
			Given any two sets $A,B \subset \bR^n$, with $n \geq 3$, such that both $A$ and $B$ have a nonempty interior, there exist disjoint decompositions $A_1 \sqcup \hdots \sqcup A_k = A$ and $B_1 \sqcup \hdots \sqcup B_k = B$ such that for each $i$, $A_i$ and $B_i$ can be transformed into each other by an isometry.
		\end{theorem}
	
		\begin{corollary}
			The unit sphere can be transformed into two copies of the unit sphere by a finite disjoint decomposition followed by an isometry. The subsets of the decomposition therefore violate the countable union condition we expect from measure functions, and can therefore not be a assigned a meaningful volume.
		\end{corollary}
		\section{$\sigma$-Additivity}
		\begin{theorem}
			Let $X$ be a set and $\cA \subseteq \cP(X)$. Then the $\sigma$-additivity of a function $\mu : \cA \to [0,\infty]$ is only well defined if $\cA$ contains the empty set and is closed under countable union.
		\end{theorem}
		\begin{corollary}\theoremname{$\emptyset$ is always a zero set}
			Let $\mu$ be a $\sigma$-additive function $\cA \to [0,\infty]$. Then $\mu(\emptyset) = 0$.
		\end{corollary}
		\begin{corollary}\theoremname{$\sigma$-Additivity implies monotonicity}
			Let $\mu$ be a $\sigma$-additive function $\cA \to [0,\infty]$. Then $A \subset B$ implies $\mu(A) \leq \mu(B)$.
		\end{corollary}	
		\section{Lattices and Boolean Algebras}
		We have just seen that we cannot define our desired measure function on the full power set of $\bR^n$. This means we will have to work on smaller systems of subsets of a given set. Naturally, we want to find the largest such systems that are still well-behaved enough to allow us to define a sensible notion of measure.
		\newpar
		We will arrive at different algebraic structures on subsets of power sets, which will serve as the domains of our measure functions.
		\newpar
		In order to gain a full birds-eye view of these definitions, we will first introduce the more general notion of \tit{boolean algebras}:
		\subsection{Boolean Algebras}
		\begin{definition}
			A \tbf{boolean algebra} is a set $X$, equipped with two binary operations $\wedge$ and $\vee$, a unary operation $\neg$, and two elements $0$ and $1$, such that:
			\begin{enumerate}
				\item $\wedge$ and $\vee$ are commutative,
				\item $1$ is a neutral element of $\wedge$, and $0$ is a neutral element of $\vee$,
				\item $\wedge$ distributes over $\vee$ and $\vee$ distributes over $\wedge$,
				\item $x \wedge \neg x = 0$, and $x \vee \neg x = 1$.
			\end{enumerate}
		\end{definition}
		\begin{corollary}
			Any boolean algebra also has the following properties:
			\begin{enumerate}
				\item $\wedge$ and $\vee$ are associative,
				\item $\wedge$ and $\vee$ have the following \tbf{absorption property}:
				\begin{align*}
					a \wedge (a \vee b) = a\\
					a \vee (a \wedge b) = a,
				\end{align*}
				\item $a = b \wedge a$ if and only if $a \vee b = b$.
			\end{enumerate}
		\end{corollary}
		There are three "central" boolean algebras, from which most of the terminology describing them is descended:
		\begin{theorem}
			The set of \tbf{propositional formulas} forms a boolean algebra, where $0$ is the logical falsum ($\bot$, an unfulfillable formula), $1$ is the logical verum ($\top$, a tautological formula), and $\wedge$, $\vee$ and $\neg$ are logical "and", "or" and "not".
		\end{theorem}
		In computer science and circuit engineering, one often considers the subalgebra of this boolean algebra where every formula is directly evaluated to "$0$" or "$1$".
		\begin{theorem}
			\theoremname{Power set algebra}
			The \tbf{power set} $\cP(X)$ of any set $X$ forms a boolean algebra, where $0 = \emptyset$, $1 = X$, $\wedge$ is the set intersection operation $\cap$, $\vee$ is the set union operation $\cup$, and $\neg$ is the set complement operation $M \to X \setminus M$.
		\end{theorem}
		\begin{theorem}
			\theoremname{Restrictions of Boolean algebras}
			Let $\cB$ be a Boolean algebra on a set $X$, and let $Y$ be a subset of $X$. Then the \tbf{restriction of $\cB$ to $Y$}, defined as
			\begin{align*}
				\cB|_Y := \lr{E \cap Y \mid E \in \cB},
			\end{align*}
			is a boolean Algebra on $Y$.
		\end{theorem}
		\begin{theorem}
			If $Y \in \cB$, then
			\begin{align*}
				\cB|_Y = \cB \cap \cP(Y) = \lr{E \subset Y \mid E \in \cB}
			\end{align*}
		\end{theorem}
		\begin{theorem}
			\theoremname{Atomic algebra} Let $X$ be partioned into a union
			\begin{align*}
				X = \bigcup_{\alpha \in I} A_\alpha
			\end{align*}
			of disjoint sets $A_\alpha$, which we refer to as \tit{atoms}. Then this partition forms a Boolean algebra 
			\begin{align*}
				\cA((A_\alpha)_{\alpha \in I}) 
				:= \lr{ E \mid E = \bigcup_{\alpha \in J} A_\alpha, J \subset I}
			\end{align*}
			of all the sets that can be represented as a union of atoms.
		\end{theorem}
		The power set Algebra on $X$ is exactly the atomic algebra where $X$ is partitioned into singleton atoms.
		\begin{theorem}
			Atomic algebras are uniquely determined by their atoms, up to relabeling. More precisely:
			Let $(A_\alpha)_{\alpha \in I}$ and $(B_\beta)_{\beta \in J}$ be two partitions of a set $X$. Then
			\begin{align*}
				\cA((A_\alpha)_{\alpha \in I}) 
				=
				\cA((B_\beta)_{\beta \in J}) 
			\end{align*}
			if and only if there exists a bijection $\phi : I \to J$ such that $B_{\phi(\alpha)} = A_{\alpha}$ for all $\alpha \in I$.
		\end{theorem}
		\begin{theorem}
			Every finite Boolean algebra is an atomic algebra.
		\end{theorem}
		\begin{corollary}
			Every finite Boolean algebra has cardinality $2^n$, where $n \in \bN$.
		\end{corollary}
		\begin{corollary}
			There is a one-to-one correspondence, up to relabeling, between finite Boolean algebras on a set $X$ and finite partitions of $X$ into non-empty sets.
		\end{corollary}
		\begin{theorem}
			\theoremname{Dyadic algebras} Let $n, i_1, \hdots, i_d \in \bZ$. The \tbf{dyadic algeba} $\cD_n(\bR^d)$ at scale $2^{-n}$ in $\bR^d$ is the atomic algebra generated by the products of the half-open dyadic intervals
			\begin{align*}
				I_j := \left[\frac{i_j}{2^n}, \frac{i_j +1}{2^n} \right)
			\end{align*}
			of length $2^{-n}$.
		\end{theorem}
		This algebra consists exactly of the "grid figures" made up of a finite number of "pixels" of length $2^{-n}$.
		\begin{theorem}
			\theoremname{Intersection of Boolean Algebras} The intersection of a family $(\cB_\alpha)_{\alpha \in I}$ of Boolean algebras on a set $X$ is again a Boolean algebra, assuming the convention that, if $I$ is empty, the intersection is the full power set.  Furthermore, this Intersection is the finest Boolean algebra that is coarser than every $\cB_\alpha$.
		\end{theorem}
		\begin{definition}
			Let $\cF$ be any family of subsets of a set $X$. Then we define $\angles{\cF}_\cB$ to be the intersection of all Boolean algebras that contain $\cF$. We call this the \tbf{Boolean algebra generated by $\cF$}.
		\end{definition}
		Equivalently, $\angles{\cF}_\cB$ is the smallest Boolean algebra containing $\cF$.
		\begin{theorem}
			$\cF$ is a Boolean algebra if and only if $\angles{\cF}_\cB = \cF$.
		\end{theorem}
		\subsection{Lattices}
		Boolean algebras themselves turn out to be specific instances of \tit{lattices}, which play an important role in order theory and universal algebra.
		\begin{definition}
			A \tbf{lattice} is an algebraic structure $(L,\vee,\wedge)$, consisting of a set $L$, an operation $\vee$, called \tbf{join}, and an operation $\wedge$, called \tbf{meet}, such that the absorbtion laws $a \vee (a \wedge b) = a$ and $a \wedge (a \vee b) = a$. 
		\end{definition}
		\begin{proposition}
			Equivalently, a partially ordered set $(L,\leq)$ is a lattice if every pair of elements has a least upper bound $\sup(a,b) := a \vee b \in L$ and a greatest lower bound $\inf(a,b) := a \wedge b \in L$.
		\end{proposition}
		\begin{definition}
			We call a lattice \tbf{bounded} if there exists a \tbf{least element} $0$, i.e. $0$ fulfills $a \vee 0 = a$, and a \tbf{greatest element} $1$, which fulfills $a \wedge 1 = a$.
		\end{definition}
		\begin{corollary}
			A boolean algebra is a bounded lattice such that meet and join are distributive over each other and such that complements exist.
		\end{corollary}
		\section{Set Algebras}
		\begin{definition}
			Let $X$ be a set and $\cA \subset \cP(X)$. Then we call $\cA$ a \tbf{set algebra} if it has the following properties:
			\begin{enumerate}
				\item $\emptyset \in \cA$
				\item For any $A \in \cA$, we have $X \setminus A \in \cA$ ($\cA$ is closed under the operation of taking complements).
				\item For any $F,G \in \cA$, we have $F \cup G$ in $\cA$ ($\cA$ is closed under binary unions).
			\end{enumerate}
		\end{definition}
		\begin{corollary}
			If $\cA$ is a set algebra on $X$, it also fulfills the following:
			\begin{enumerate}
				\item $X \in \cA$,
				\item For any $F,G \in \cA$, we have $F \cap G$ in $\cA$,
				\item For any $A_1, \hdots, A_n \in \cA$, we have $\bigcup_{i = 1}^n A_i \in \cA$,
				\item For any $A_1, \hdots, A_n \in \cA$, we have $\bigcap_{i = 1}^n A_i \in \cA$. 
			\end{enumerate}
		\end{corollary}
		Thus, we obtain the following more concise (but less readable) definition of set algebras:
		\begin{corollary}
			A set algebra is a subalgebra of the power set boolean algebra on $X$.
		\end{corollary}
		\begin{corollary}
			A topology on $X$ is "simply" a set algebra on $X$ that is closed under arbitrary unions.
		\end{corollary}
		\begin{theorem}
			\theoremname{(Stone's Representation Theorem for Boolean Algebras:)} Every boolean algebra is isomorphic to a set algebra.
		\end{theorem}
		\subsection{Set Rings}
		A very important weakening of the concept of set algebras is given by \tit{set rings}, which contain the empty set and are closed under intersection and union, but don't have to contain the full set $X$ or be closed under complements.
		\begin{theorem}
			Let $\cA$ be a set ring. Then it is closed under finite symmetric difference, and forms a ring in the algebraic sense, with symmetric difference as addition and intersection as multiplication. If it contains the full set $X$, it forms a ring with identity.
		\end{theorem}
		\begin{definition}
			Let $I \subset \bR$. We call $I$ an \tbf{interval} if there exist $a,b \in \bR$ such that $(a,b) \subset I \subset [a,b]$. 
		\end{definition}
		\begin{theorem}
			The set of subsets of the real numbers which can be written as a finite union of intervals forms a set ring.
		\end{theorem}
		\begin{theorem}
			Let $\cR$ and $\cS$ be set rings. Then the set of finite unions of cartesian products of elements of $R_i$ and $S_i$, i.e. of elements of the form,
			\begin{align*}
				\bigcup_{i \in \bN} R_i \times S_i,
			\end{align*}
		 	is also a set ring, which we will denote by $\cR \boxtimes \cS$.
		\end{theorem}
		\begin{corollary}
			The set of finite unions of cuboids in $\bR^n$, where we define a cuboid to be a product of arbitrary intervals, i.e. we don't care if the boundary on any particular side is open or closed, forms a set ring. We call sets of this form \tbf{Elementary Sets}.
		\end{corollary}
		\subsection{Set Semirings}
		\begin{theorem}
			Let $\cS \subset \cP(X)$. We call $\cS$ a \tbf{set semiring}, or \tbf{semiring of sets}, if:
			\begin{enumerate}
				\item $\emptyset \in \cS$,
				\item $\cS$ is closed under finite intersections,
				\item For $A,B \in \cS$, there exist disjoint sets $S_1, \hdots, S_n \in \cS$ such that $A \setminus B = \bigcup_{i = i}^n S_i$.
			\end{enumerate}
		\end{theorem}
		This means that a set semiring is a weakened form of a set ring where complements are not necessarily contained in the semiring, but can still be "constructed" from elements of the ring. Any set ring is therefore immediately also a set semiring.
		\newpar
		Sadly, unlike with rings of sets, there is absolutely no connection between set semirings and the algebraic notion of a semiring - a semiring of sets is exclusively a (semi)(ring of sets), and \tit{not} a (semiring)(of sets). This makes it tempting for me to use an alternative name which makes this distinction more clear, but since I haven't encountered any good alternative names anywhere else (and because I already know I will forget to stick with this convention moving forwards) I will stick with the less than perfect established name.
		\newpar
		Set semirings are of fundamental importance to measure theory because the set of cuboids in $\bR^n$ forms a set semiring, and we will end up defining our lebesque measure by approximating sets through coverings of the set with cuboids. Of course, we first have to establish a basic theory of set semirings and prove this claim.
		\begin{theorem}
			The set $\cI$ of real intervals forms a set semiring.
		\end{theorem}
		\begin{theorem}
			The product of two set semirings is again a set semiring.
		\end{theorem}
		\begin{corollary}
			The set $\cQ$ of cuboids in $\bR^n$ (once again with both open and closed sides allowed) forms a set semiring.
		\end{corollary}
		\section{Measures on $\bR^n$}
		(TODO: Merge into abstract measure theory chapter)
		\subsection{Jordan Measure}
		\begin{definition}
			Let $E \subset \bR^n$ be an elementary set. Then we can assign to it the \tbf{elementary volume} $\vol(E)$, where the volume of a cuboid is the product of its side lengths and the volume of a finite union of cuboids is the sum of the volumes of the individual cuboids making up $E$.
		\end{definition}
		\begin{definition}
			\theoremname{Inner and outer Jordan Measures}
			Let $E \subset \bR^n$.
			\begin{enumerate}
				\item  The \tbf{inner Jordan measure} $J_*(E)$ is
				\begin{align*}
					J_*(E) := \sup_{\substack{\textnormal{$Q_i \in \cQ$},\\ \bigcup_{i = 1}^n Q_i \subset E}} \vol(Q)
				\end{align*}
				\item The \tbf{outer Jordan measure} $J_*(E)$ is 
				\begin{align*}
					J^*(E) := \inf_{\substack{\textnormal{$Q_i \in \cQ$},\\ \bigcup_{i = 1}^n Q_i \supset E}} \vol(Q)
				\end{align*}
			\end{enumerate}
		\end{definition}
		\begin{definition}
			\theoremname{Jordan measurable set, Jordan measure}
			We call $E$ \tbf{Jordan-measurable} if $J_*(E) = J^*(E)$. Then we call $J(E) = J_*(E) = J^*(E)$ the \tbf{Jordan measure}.
		\end{definition}
		\begin{theorem}
			The Jordan measure is $\sigma$-additive.
		\end{theorem}
		\begin{theorem}
			The following are equivalent:
			\begin{enumerate}
				\item $E$ is Jordan measurable,
				\item For every $\epsilon > 0$, there exist elementary sets $A \subset E \subset B$ such that $\vol(B \setminus A) \leq \epsilon$,
				\item For every $\epsilon > 0$, there exists an elementary set $A$ such that
				$J^*(A \symdiff E) \leq \epsilon$.
			\end{enumerate}
		\end{theorem}
		\begin{theorem}
			The collection of subsets of $\bR^n$ that are either Jordan measurable or have a Jordan-measurable complement form a Boolean algebra, known as the Jordan algebra.
		\end{theorem}
		\begin{theorem}
			The Jordan algebra is non-atomic.
		\end{theorem}
		\begin{theorem}
			\theoremname{(Regions under continuous Graphs are Jordan measurable)}
			Let $B$ be a closed box in $\bR^n$, and let $f : B \to \bR$ be a continuous function. Then the set
			\begin{align*}
				\lr{(x,t) \mid x \in B, 0 \leq t \leq f(x)} \subset \bR^{n+1}
			\end{align*}
			is Jordan measurable.
		\end{theorem}
		\begin{theorem}
			Triangles are Jordan measurable.
		\end{theorem}
		\begin{theorem}
			Convex polytopes in $\bR^n$ are Jordan measurable.
		\end{theorem}
		\begin{theorem}
			Open and closed Euclidean balls are Jordan measurable.
		\end{theorem}
		\begin{theorem}
			Every subset of a Jordan null set is Jordan measurable and also a Jordan null set.
		\end{theorem}
		\begin{theorem}
			The sets $[0,1]^2 \setminus \bQ^2$ and $[0,1]^2 \cap \bQ^2$ are both not Jordan measurable.
		\end{theorem}
		Informally, sets with a lot of "holes" or with very messy, fractal-like boundaries are generally not Jordan-measurable.
		\begin{theorem}
			There exist countable unions, and countable intersections, of Jordan measurable sets which are not Jordan measurable.
		\end{theorem}
		\subsection{Lebesque Measure}
		One can extend the Jordan measure to a significantly larger number of subsets of $\bR^n$ by simply allowing countable unions of cuboids (instead of finite unions of cuboids). The Lebesque measure is simply this generalization of the Jordan measure. Formally:
		\begin{definition}
			Let $E \subset \bR^n$. The \tbf{Lebesque outer measure} of $E$ is given by
			\begin{align*}
				\lambda^*(E) := \inf_{\substack{E \subset \bigcup_{i = 1}^\infty Q_n,\\ Q_n \in \cQ}} \lr{\sum_{n = 1}^\infty \abs{Q_n}},
			\end{align*}
			i.e. the Lebesque outer measure of $E$ is the greatest lower bound of the measures of all coverings of $E$ by cuboids.
		\end{definition}
		\begin{theorem}
			Let $U \subset \bR^n$ be open. Then $U$ is a countable union of cuboids.
		\end{theorem}
		Therefore, we can define Lebesque measurability similarly to Jordan measurability - a set is Lebesque measurable if it is "almost" an open set.
		\begin{definition}
			A set $E \subset \bR^n$ is \tbf{Lebesque measurable} if for every $\epsilon > 0$, there exists an open set $U \subset \bR^n$ such that $U \subset E$ and $\lambda^*(U \setminus E) \leq \epsilon$. If $E$ is Lebesque measurable, we refer to $\lambda(E) := \lambda^*(E)$ as the \tbf{Lebesque measure} of $E$. If the dimension $n$ should be emphasized, we sometimes write $\lambda(E)$ as $\lambda^n(E)$.
		\end{definition}
		\begin{theorem}
			The Lebesque measure fulfills:
			\begin{align*}
				E \subset \bigcup_{i \in N} E_i \implies \lambda(E) \leq \sum_{i \in \bN} \lambda(E_i)
			\end{align*}
			This is a weakened form of $\sigma$-additivity, which is known as \tbf{$\sigma$}-subadditivity.
		\end{theorem}
		\begin{theorem}
			The Lebesque measure defines a $\sigma$-additive function on the Lebesque measurable sets.
		\end{theorem}
		\begin{theorem}
			The collection of subsets of $\bR^n$ that are either Lebesque measurable or have a Lebesque-measurable complement form a Boolean algebra.
		\end{theorem}
		You may have heard in linear algebra that the determinant of a matrix $S$ tells us how the matrix scales the volume of the unit cube. Since the Lebesque measure is defined using volumes of unit cubes, this intuition also holds for the image of any set $E$ under $S$:
		\begin{theorem}
			\theoremname{Linear Transformation Equation}
			\label{thm:lineartransformationequation}
			Let $S \in \bRnn$. Then for all $E \subset \bR^n$, we have:
			\begin{align*}
				\lambda^n(S(E)) = \abs{\det(S)}\lambda^n(E)
			\end{align*}
		\end{theorem}
		\section{$\sigma$-Algebras}
		The most important type of set algebra for the purposes of measure theory is the \tit{$\sigma$-Algebra}, on which we will define the notion of a "measure" in our desired final form.
		\begin{definition}
			Let $X$ be an arbitrary set and $\cA \subset \cP(X)$. We call $\cA$ a $\sigma$\tbf{-Algebra on $X$} if:
			\begin{enumerate}
				\item $X \in \cA$
				\item For all $A \in \cA$, we have $X \setminus A \in \cA$ ($\cA$ is closed under the operation of taking a complement).
				\item For all $A_i \in \cA$, we have $\bigcup_{i \in \bN} \in \cA$ ($\cA$ is closed under the operationg of taking countable unions).
			\end{enumerate}
			If $\cA$ is a $\sigma$-algebra on $X$, we call $(X,\cA)$ a \tbf{measure space}, and any set $A \in \cA$ \tbf{$\cA$-measurable}.
		\end{definition}
		The "$\sigma$" here once again stands for "countable sum", as it also did for $\sigma$-additivity and $F_\sigma$ sets.
		\begin{corollary}
			Any $\sigma$-algebra contains the empty set and is closed under countable intersection.
		\end{corollary}
		\begin{corollary}
			A $\sigma$-algebra can be more concisely defined as a set algebra that is closed under \tit{countable} union and intersection, not just finite ones.
		\end{corollary}
		This also trivially makes every $\sigma$-algebra a Boolean algebra.
		\begin{theorem}
			Every atomic algebra is a $\sigma$-algebra.
		\end{theorem}
		\begin{corollary}
			The set of Lebesque measurable sets contains the Borel $\sigma$-slgebra.
		\end{corollary}
		\begin{theorem}
			The Lebesque algebra is a $\sigma$-algebra.
		\end{theorem}
		\begin{theorem}
			The Jordan algebra is not a $\sigma$-algebra.
		\end{theorem}
		\begin{theorem}
			Just like for Boolean algebras, the restriction $\cA|_Y$ of a $\sigma$-algebra $\cA$ on $X$ to a subset $Y \subset X$ is again a $\sigma$-algebra on $Y$.
		\end{theorem}
		\begin{definition}
			Let $\cA \subset \cP(X)$. Then $\angles{\cA}_\sigma$ denotes the smallest $\sigma$-algebra containing $\cA$.
		\end{definition}
		\begin{theorem}
			We have $\angles{\cF}_\cB = \angles{\cF}_\sigma$ if and only if $\angles{\cF}_\cB$ is a $\sigma$-algebra.
		\end{theorem}
		\subsection{The Borel $\sigma$-Algebra}
		\begin{definition}
			Let $X$ be a topological space. The \tbf{Borel $\sigma$-algebra $\cB[X]$ of $X$} is the $\sigma$-Algebra generated by the open subsets of $X$.
		\end{definition}
		\begin{theorem}
			The Borel $\sigma$-Algebra $\cB[\bR^d]$ is equivalently generated by any of the following:
			\begin{multicols}{2}
				\begin{enumerate}
					\item The closed subsets of $\bR^d$,
					\item The compact subsets of $\bR^d$,
					\item The open balls of $\bR^d$,
					\item The boxes in $\bR^d$,
					\item The elementary sets in $\bR^d$.
					\item[]
				\end{enumerate}
			\end{multicols}
		\end{theorem}
		\subsection{A Lebesque measurable set which is not Borel}
		\begin{theorem}
			There exist Lebesque measurable sets which are not Borel.
		\end{theorem}
		\section{Measures}
		With our different subset systems in place, we can finally give a general formal definition of a measure. Along the way, we will encounter outer measures, contents, and premeasures, which are weakened measures that we can use to generate proper ones.
		\begin{definition}
			Let $X$ be a set and $\mu$ be a function $\cP(X) \to [0,\infty]$. We call $\mu$ an \tbf{outer measure on $X$} if it is $\sigma$-subadditive.
		\end{definition}
		Frustratingly, the Jordan outer measure $J^*$ is not an outer measure in this sense - it only fulfills finite subadditivity, not the full $\sigma$-Subadditivity. However, the Lebesque outer measure $\lambda^*$ thankfully is an outer measure in this sense (and historically, I assume this definition arose from a desire to generalize the Lebesque outer measure).
		\begin{definition}
			Let $\mu$ be an outer measure on a set $X$. Then we call a subset $A \subset X$ \tbf{$\mu$-measurable}, or just \tbf{measurable}, if for all $S \subset X$ we have
			\begin{align*}
				\mu(S) = \mu(S \cap A) + \mu(S \setminus A)
			\end{align*}
			The system of all $\mu$-measurable sets is sometimes denoted $\cM(\mu)$.
		\end{definition}
		Note that by the subadditivity of outer measures, we already get that the left side is at most as large as the right side, meaning that this condition can equivalently be weakened to
		\begin{align*}
			\mu(S) \geq \mu(S \cap A) + \mu(S \setminus A).
		\end{align*}
		\begin{theorem}
			Let $\mu$ be an outer measure. Then the set of $\mu$-measurable sets forms a $\sigma$-Algebra.
		\end{theorem}
		In order for our disjoint sum condition for "measures" to be well-defined, it already followed that the domain of a measure needs to be a system of sets that contains the empty set and is closed under countable union. This theorem suggests that, at minimum, it should also be a $\sigma$-Algebra. This finally leads us to a concrete definition of what a measure should be in general:
		\begin{definition}
			Let $\cA$ be a \ul{$\sigma$-Algebra}. Then we call a $\sigma$-additive function $\mu : \cA \to [0,\infty]$ a \tbf{measure}.
		\end{definition}
		\begin{definition}
			Let $\cS$ be a \ul{set semiring.} Then we call a \ul{finitely additive} function $\cS \to [0,\infty]$ a \tbf{content}, and a \ul{$\sigma$-additive} function $\cS \to [0,\infty]$ a \tbf{premeasure}.
		\end{definition}
		In effect, a premeasure is a measure whose domain might not be as big as it could be. Every measure trivially also defines a content and a premeasure, and every measure defined on $\cP(X)$ defines an outer measure.
		\newpar
		We can construct outer measures from a very large class of functions by mimicking the construction of the Lebesque outer measure from the elementary Volume function:
		\begin{theorem}
			\theoremname{Carathéodory Extension}
			Let $\cS$ be a system of subsets of a set $X$ containing the empty set. Let $\lambda : \cS \to [0,\infty]$ be a function such that $\lambda(\emptyset) = 0$. Then the function
			\begin{align*}
				\mu(E) := \inf\lr{\sum_{i = 1}^\infty \lambda(P_i) \mid P_i \in \cS, E \subset \bigcup_{i = 1}^\infty P_i}
			\end{align*}
			is an outer measure on $X$.
		\end{theorem}
		\iffalse
		\section{Uncountable Sums}
		\begin{definition}
			Let $X$ be an uncountable set and $f : X \to [0,\infty]$. Then we define
			\begin{align*}
				\sum_{x \in X} f(x) = \sup_{\abs{F} < \infty} \sum_{x \in F} f(x)
			\end{align*}
		\end{definition}
		It may seem odd that we can sum over an uncountable set by simply summing over the finite subsets - this is partly justified by the following lemma:
		\begin{lemma}
			If all terms of a sum are positive, and uncountably many of these terms are non-zero, then the sum diverges.
		\end{lemma}
		\begin{proof}
			Assume that a sum over a set converges, i.e. 
			\begin{align*}
				\sum_{x \in X} f(x) = L \in \bR
			\end{align*}
		Let $S_n = \lr{x \in X : f(x) > \frac{1}{n}}$ for $n \in \bN$. Then we have:
		\begin{align*}
			L &= \sum_{x \in X} f(x)\\
			  &\geq \sum_{x \in S_n} f(x)\\
			  &> \sum_{x \in S_n} \frac{1}{n}\\
			  &= \frac{\abs{S_n}}{n}
		\end{align*}
		So we have $\abs{S_n} < nL$ for all $n \in \bN$, meaning that all $S_n$ are finite. The set of all non-zero terms is given by:
		\begin{align*}
			S = \lr{x \in X \mid f(x) > 0} = \bigcup_{n \in \bN} \lr{x \in X \mid f(x) > \frac{1}{n}}
		\end{align*}
		And since $S$ is a countable union of finite sets, it must be countable. Therefore a finite limit $L$ can't exist if $S$ is uncountable.
		\end{proof}
		\begin{definition}
			If our sum is absolutely convergent, we can also define
			\begin{align*}
				\sum_{x \in X} f(x) = \sum_{x \in X, f(x) \geq 0} f(x) - \sum_{x \in X, f(x) \leq 0} \abs{f(x)}
			\end{align*}
		\end{definition}
		\fi
	\chapter{Measurable Functions}
	\section{Measurable Functions}
	\begin{importantdefinition}{Measurable Functions}{}
		Let $(X, \cA)$ and $(Y, \cB)$ be measurable spaces. Then we call a map $f : X \to Y$ \tbf{$\cA$-$\cB$-measurable}, or just \tbf{measurable}, if the preimage of every measurable set is again measurable, i.e.
		\begin{align*}
			B \in \cB \implies f^{-1}(B) \in \cA
		\end{align*}
	\end{importantdefinition}
	Once again, note the similarities between this definition and the topological definition of a continuous function. If the sigma-algebra on one of the sets is supposed to be clear from context, many authors only specify one of the the two sigma algebras. For example, for a function $f : X \to \barR$, many authors talk about $\cA$-measurability when they implicitly mean $\cA-\cB(\barR)$-measurability
	\begin{proposition}
		The composition of two measurable functions is again measurable.
	\end{proposition}
	\begin{lemma}
		Let $(X, \cA)$, $(Y, \cB)$ be measurable spaces and $f : X \to Y$. Let $\cE \subset \cB$. Then
		\begin{align*}
			f^{-1}(\angles{\cE}_\sigma) = \angles{f^{-1}(\cE)}_\sigma
		\end{align*}
	\end{lemma}
	\begin{corollary}
		Let $\cE$ be a base of $\cB$, i.e. $\angles{\cE}_\sigma = \cB$. Then $f : X \to Y$ is $\cA$-$\cB$ measurable if and only if 
		\begin{align*}
			E \in \cE \implies f^{-1}(E) \in \cA,
		\end{align*}
	\end{corollary}
	This means we don't need to check the preimage of every single set in $\cB$ to show that $f$ is measurable - it suffices to check a base.
	\begin{corollary}
		Every continuous function between topological spaces is measurable in the corresponding Borel-$\sigma$-algebras.
	\end{corollary}
	\begin{proof}
		Let $f : X \to Y$ be continuous. Then the preimage of every open set of $Y$ is open in $X$, i.e. contained in the Borel $\sigma$-algebra on $X$, and the open sets of $Y$ form a base of the Borel $\sigma$-algebra on $Y$.
	\end{proof}
	\begin{importanttheorem}
		{Simple criteria for measurability)}{} Let $(X, \cA)$ be a measureable space. Let $f : X \to \barR$. Then the following are equivalent:
		\begin{enumerate}
			\item $f$ is $\cA$-$\cB(\barR)$ measurable,
			\item $\forall c \in \bR: \lr{f > c} \in \cA$,
			\item $\forall c \in \bR: \lr{f \geq c} \in \cA$,
			\item $\forall c \in \bR: \lr{f < c} \in \cA$,
			\item $\forall c \in \bR: \lr{f \leq c} \in \cA$,
		\end{enumerate}
	\end{importanttheorem}
	\begin{proof}
		\begin{enumerate}
			\item The latter four conditions are equivalent to each other, since:
			\begin{enumerate}
				\item $\lr{f \geq c} = \bigcap_{k \in \bN} \lr{f > c - \frac{1}{k}}$,
				\item $\lr{f > c} = \bigcup_{k \in \bN} \lr{f \geq c + \frac{1}{k}}$,
				\item $\lr{f < c} = X \setminus \lr{f \geq c}$,
				\item $\lr{f \leq c} = X \setminus \lr{f > c}$.
			\end{enumerate}
			\item The intervals $[c,\infty]$ form a base of $\cB(\barR)$, since:
			\begin{enumerate}
				\item $\lr{\infty} = \bigcap_{k \in \bN} [k, \infty]$
				\item $\lr{-\infty} = \bigcap_{k \in \bN} [-\infty,-k]$
				\item $(a,b) = [a,\infty] \setminus ([b, \infty] \cap [-\infty, a])$
			\end{enumerate}
		\end{enumerate}
	\end{proof}
	\begin{theorem}
		Let $f,g : X \to \barR$ be $\cA$-$\cB(\barR)$ measurable. Then the following sets are contained in $\cA$:
		\begin{enumerate}
			\item $\lr{f > g}$,
			\item $\lr{f \geq g}$,
			\item $\lr{f = g}$,
			\item $\lr{f \neq g}$.
		\end{enumerate}
	\end{theorem}
	\begin{theorem}
		Let $f,g : X \to \barR$ be $\cA$-$\cB[\barR]$ measurable. Then the following functions are also $\cA$-measurable:
		\begin{enumerate}
			\item $cf$, for all $c \in \bR$,
			\item $\abs{f}^p$, for all $p \in \bR_{> 0}$,
			\item $f + g$, assuming the sum is defined everywhere on $X$, i.e. there exists no $x \in X$ such that $f(x) =\infty$ and $g(x) = -\infty$ or vice versa,
			\item $f \cdot g$.
		\end{enumerate}
	\end{theorem}
	\begin{theorem}
		Let $(X, \cA)$ be a measurable space and $\chi_E : X \to \bR$ be the characteristic function of a set $E \subset X$. Then $\chi_E$ is $\cA$-$\cB[\bR]$ measurable if and only if $E \in \cA$.
	\end{theorem}
	\begin{proof}
		We have $\lr{1} = (-\infty,1) \cup (1, \infty) \in \cB[\bR]$ and $\chi_E^{-1}(\lr{1}) = E$, so $E$ has to be in $\cA$ for $\chi_E$ to be measurable.
		\newpar
	 	$E \in \cA$ is also a sufficient condition for $\chi_E$ to be measurable, since the only other possible preimages are $\emptyset \in \cA$, $X \in \cA$, $X \setminus E \in \cA$
	\end{proof}
	\begin{theorem}
		Let $(X, \cA)$ be a measurable space, let $D \in \cA$, and let $f_k : D \to \bR$ be $\cA$ measurable. Then the following functions are $\cA$-measurable:
		\begin{enumerate}
			\item $\inf_{n \in \bN} f_n$
			\item $\sup_{n \in \bN} f_n$
			\item $\liminf_{n \to \infty} f_n$
			\item $\limsup_{n \to \infty} f_n$
		\end{enumerate}
	\end{theorem}
	\begin{proof}
		For $s \in \bR$, we have:
		\begin{enumerate}
			\item $\displaystyle \lr{(\inf_{n \in \bN} f_n) \geq s} = \bigcap_{k = 1}^\infty \lr{f_k \geq s} \in \cA$
			\item $\displaystyle \lr{(\sup_{n \in \bN} f_n) \leq s} = \bigcap_{k = 1}^\infty \lr{f_k \leq s} \in \cA$
		\end{enumerate}
		Therefore $\inf_{n \in \bN} f_n$ and $\sup_{n \in \bN} f_n$ are measurable. The same argument holds for $\sup$ and $\inf$ over subsets of $\bN$. Therefore, the compositions
		\begin{align*}
			\liminf_{n \to \infty} f_n = \sup_{n \in \bN} \lr(\inf_{k \geq n} f_k)
		\end{align*}
		and
		\begin{align*}
			\limsup_{n \to \infty} f_n = \inf_{n \in \bN} 	\lr(\sup_{k \geq n} f_k)
		\end{align*}
		are also measurable.
	\end{proof}
	\begin{importantcorollary}{}{}
		Let $f_n$ be a sequence of $\cA$-measurable functions with a pointwise limit $f$. Then $f$ is $\cA$-measurable.
	\end{importantcorollary}
	\chapter{Lebesque Integration}
		\section{The Lebesque Integral}
		\begin{definition}
			Let $(X, \cA)$ be a measurable space. Then we call a function $f : Y \to \bR$ a \tbf{step function} if it can be represented as a finite linear combination of characteristic functions of sets in $\cA$, i.e there exist $\alpha_i \in \bR$ and $A_i \in \cA$ such that:
			\begin{align*}
				f = \sum_{i \leq k} \alpha_i \chi_{A_i}
			\end{align*}
		\end{definition}
		\begin{proposition}
			Step functions form a vector space over $\bR$.
		\end{proposition}
		\begin{proposition}
			Every step function is (extensionally) equal to a step function over pairwise disjoint sets.
		\end{proposition}
		\begin{lemma}
			\theoremname{Sum of Step Functions} Let $s_1$ and $s_2$ be step functions
			\begin{align*}
				s_1 = \sum_{i = 0}^m \alpha_i \chi_{A_i}, \qquad
				s_2 = \sum_{j = 0}^n \beta_j \chi_{B_j}
			\end{align*}
			defined on pairwise disjoint sets. Then we have:
			\begin{align*}
				s_1 + s_2 = \sum_{i = 0}^m \sum_{j = 0}^n (\alpha_i + \beta_j)\chi_{A_i \cap B_j}
			\end{align*}
		\end{lemma}
		\begin{proof}
			\begin{enumerate}
				\item Assume $s_1$ and $s_2$ are nonnegative step functions
				\begin{align*}
					s_1 = \sum_{i = 0}^m \alpha_i \chi_{A_i}, \qquad
					s_2 = \sum_{j = 0}^n \beta_j \chi_{B_j}
				\end{align*}
				defined on pairwise disjoint sets.
				\newpar
				Then:
				\begin{align*}
					s_1(x) + s_2(x)
					&=
					\sum_{i = 0}^m \alpha_i \chi_{A_i}(x)
					+
					\sum_{j = 0}^n \beta_j \chi_{B_j}(x)
				\end{align*}
				Since the $A_i$ and $B_j$ are disjoint coverings of $X$, for every $x \in X$, there exists exactly one $i$ such that $x \in A_i$ and exactly one $j$ such that $x \in B_j$. Therefore, every $x$ contributes exactly one $\alpha_i$ for $x \in A_i$ and one $\beta_j$ for $x \in B_j$, i.e. $x \in A_i \cap B_j$ and $s_1(x) + s_2(x) = \alpha_i + \beta_j$. Since this is the only intersection which contains $x$, we can put everything together to get our desired formula:
				\begin{align*}
					s_1(x) + s_2(x)
					&=
					\sum_{i = 0}^m \sum_{j = 0}^n (\alpha_i + \beta_j)\chi_{A_i \cap B_j}(x)
				\end{align*}
			\end{enumerate}
		\end{proof}
		One of the most central techniques of integration theory is the process of approximating measurable functions using step functions:
		\begin{theorem}
			Let $(X, \cA)$ be a measurable space. Let $f : X \to \barR$ be a nonnegative $\cA$-measurable function. Then there exists a monotonically increasing sequence $s_n$ of nonnegative step functions whose pointwise limit is $f$.
		\end{theorem}
		\begin{proof}
			For $n \in \bN$ and $k \in \lr{0, \hdots, n \cdot 2^n}$, we set:
			\begin{align*}
				F_{n,k} := \lr{x \in X \mid \frac{k}{2^n} \leq f(x) < \frac{k+1}{2^n}}.
			\end{align*}
			Then
			\begin{align*}
				s_n(x) = 
				\begin{cases}
					\frac{k}{2^n}& x \in F_{n,k}\\
					n & \tn{otherwise}
				\end{cases}
			\end{align*}
			are our desired step functions.
		\end{proof}
		The integral of a characteristic function is already clear from our intuition: The points contained in the area under a characteristic function $\chi_A$ are exactly the cartesian product of $A$ with the interval $[0,1]$, forming a "rectangle" with side lengths $1$ and $\mu(A)$. Therefore the integral should be:
		\begin{definition}
			\theoremname{Lebesque integral of a characteristic function}
			\begin{align*}
				\int_X \chi_A ~d\mu = \mu(A)
			\end{align*}
		\end{definition}
		The definition for the integral of a step function should follow naturally - we want our integral to transform linearly, therefore we define:
		\begin{definition}
			\theoremname{Lebesque integral of a step function}
			Let $D \subset X$, $A_i \subset X$ pairwise disjoint, and $\alpha_i \geq 0$. Then:
			\begin{align*}
				\int_D \lr(\sum_{i \leq k} \alpha_i \chi_{A_i}) ~d\mu = \sum_{i \leq k} \alpha_i \mu(D \cap A_i)
			\end{align*}
		\end{definition}
		\begin{importantdefinition}{Lebesque integral of a positive function}{}
			Let $f : D \to [0,\infty]$ be $\cA$-measurable. Then:
			\begin{align*}
				\int_D f ~d\mu = \sup_{\substack{\tn{$s$ is a step function,}\\0 \leq s \leq f}}\lr{\int_D s ~d\mu}
			\end{align*}
		\end{importantdefinition}
		\begin{definition}
			\theoremname{Lebesque integral of an arbitrary measurable function}
			Let $f$ be $\cA$-mesurable and
			\begin{align*}
				f^+ = f \cdot \chi_{f \geq 0}, \qquad
				f^- = -f \cdot \chi_{f < 0}
			\end{align*}
			Note that $f^+ \geq 0$ and $f^- > 0$. Then, as long as $f^+$ or $f^-$ have a finite integral, we can define:
			\begin{align*}
				\int_D f ~d\mu \int_D f^+ ~d\mu - \int_D f^{-} ~d\mu
			\end{align*}
		\end{definition}
		\begin{importantdefinition}{Integrable Function}{}
			We call a function $f : X \to \barR$ $\tbf{integrable}$ with regards to a measure $\mu$ if it is $\mu$-measurable and
			\begin{align*}
				\int_X f~d\mu \in \bR
			\end{align*}
		\end{importantdefinition}
		\begin{corollary}
			\theoremname{Integrating over subsets}
			\begin{align*}
				\int_M f ~d\mu = \int_X f \cdot \chi_M ~d\mu = \int_M f ~d\mu|_M
			\end{align*}
		\end{corollary}
		It is common to derive from this corollary a slight abuse of notation: Assume that $f$ is not $\cA$-measurable, but it is $\mu$-measurable, i.e. $f : D \to \barR$ such that $\mu(X \setminus D) = 0$ and $f$ is $\cA|_D$-measurable. Then it is common to implicitly expand the domain of $D$ to $X$ by setting $f(x) = 0$ on $X \setminus D$, and to therefore write:
		\begin{align*}
			\int_X f ~d\mu := \int_D f ~d\mu
		\end{align*}
		\begin{corollary}
			\theoremname{Integrating over zero sets}
			Let $N$ be a set such that $\mu(N) = 0$. Then 
			\begin{align*}
				\displaystyle \int_N f ~d\mu = 0.
			\end{align*} 
		\end{corollary}
		\begin{proposition}\theoremname{Integrating with the counting measure}
			Let $X$ be an arbitrary set. Let $\card$ be the counting measure on $\cP(X)$. Let $f : X \to \barR$. Then $f$ is integrable with respect to $\card$ if and only if $\sum_{x \in X} f(x)$ is absolutely convergent, and we have
			\begin{align*}
				\int_X f ~d\card = \sum_{x \in X} f(x)
			\end{align*}
		\end{proposition}
		\begin{theorem}
			\theoremname{Monotonicity of the Lebesque integral, Part 1}
			Let $f,g : X \to \barR$ be \ul{$\cA$-measurable} and $f \leq g$. Then
			\begin{align*}
				0 \leq \int_X f ~d\mu \leq  \int_X g ~d\mu
			\end{align*}
		\end{theorem}
		The following theorem is one of the primary justification for defining the Lebesque integral as a "successor" to the Riemann integral in the first place:
		\begin{importanttheorem}
			{Monotone Convergence Theorem}{}
			Let $f_n : X \to [0,\infty]$ be $\cA$-measurable such that $f_i \leq f_{i+1}$. Let $\lim_{n \to \infty} f_n = f$. Then
			\begin{align*}
				\int_X \lim_{n \to \infty} f_n ~d\mu
				= 	\lim_{n \to \infty} \int_X f_n ~d\mu
				= 	\sup_{n \in \bN} \int_X f_n ~d\mu
			\end{align*}
		\end{importanttheorem}
		To prove this theorem, we will first need to prove a few lemmata:
		\begin{lemma}
			Let $s$ be a step function such that $0 \leq s \leq f$. Let $\alpha \in (0,1)$ and 
			\begin{align*}
				E_n = \lr{x \in X \mid f_n(x) \geq \alpha \cdot s(x)}
			\end{align*}
			Then, for all $A \in cA$, we have:
			\begin{align*}
				\lim_{n \to \infty} \mu(E_n \cap A) = \mu(A)
			\end{align*}
		\end{lemma}
		\begin{proof}
			We have $E_n \in \cA$, $E_n \subseteq E_{n+1}$ and $\bigcup_{n \in \bN} E_n = X$.
			\newpar
			Using the fact that measures are continuous from below, we get
			\begin{align*}
				\lim_{n \to \infty} \mu(E_n \cap A)
				&= \mu\lr(\bigcup_{i \in \bN} \lr(E_n \cap A))\\
				&= \mu\lr(\lr(\bigcup_{i \in \bN} E_n) \cap A)\\
				&= \mu\lr(X \cap A)\\
				&= \mu\lr(A)
			\end{align*}
		\end{proof}
		\begin{lemma}
			Let $s = \sum_{i \leq k} \alpha_i \chi_{A_i}$ such that the $A_i$ are pairwise disjoint. Then
			\begin{align*}
				\int_X f_n ~d\mu \geq \alpha \sum_{i = 1}^k \alpha_i \mu(A_i \cap E_n)
			\end{align*}
		\end{lemma}
		\begin{proof}
			\begin{align*}
				\int_X f_n ~d\mu 
				&\geq \int_{E_n} f_n ~d\mu\\
				&\geq \int_{E_n} \alpha s ~d\mu\\
				&= \int_{E_n} \alpha \sum_{i \geq k} \alpha_i \chi_{A_i} ~d\mu\\
				&= \alpha \sum_{i \geq k} \alpha_i \int_{E_n} \chi_{A_i} ~d\mu\\
				&= \alpha \sum_{i = 1}^k \alpha_i \mu(A_i \cap E_n)
			\end{align*}
		\end{proof}
		With these in place, our proof of the monotone convergence theorem becomes reasonably straightforward:
		\begin{proof}
			Since the $f_n$ are nonnegative and measurable, we know that the same holds for $f$.
			\newpar
			By definition, $S_n := \int_X f_n ~d\mu$ is a monotonically increasing sequence of real numbers. Therefore, there exists a limit in $\barR$.
			Since $f_n \leq f$, we have 
			\begin{align*}
				\int_{X} f_n ~d\mu \leq \int_X f ~d\mu
			\end{align*} 
			for all $n$, which immediately implies
			\begin{align*}
				\lim_{n \to \infty} \int_{X} f_n ~d\mu \leq \int_X f ~d\mu,
			\end{align*}
			proving our desired result in the case that $\lim_{n \to \infty} \int_X f_n ~d\mu = \infty$.
			\newpar
			Now, assume that our limit is finite. Let 
			\begin{align*}
				s = \sum_{i \leq k} \alpha_i \mu(A_i)
			\end{align*}
		 	be a step function such that $0 \leq s \leq f$. Then by our second lemma, we have
			\begin{align*}
				\int_X f_n ~d\mu \geq \alpha \sum_{i \leq k} \alpha_i \mu(A_i \cap E_n)
			\end{align*}
			Letting $n \to \infty$, we get:
			\begin{align*}
				\lim_{n \to \infty} \int_X f_n ~d\mu &\geq \lim_{n \to \infty} \alpha \sum_{i \leq k} \alpha_i \mu(A_i \cap E_n)\\
				&= \alpha \sum_{i \leq k} \alpha_i \mu(A_i)\\
				&= \alpha \int_X s ~d\mu
			\end{align*}
			since this holds for all $\alpha \in (0,1)$, we get:
			\begin{align*}
				\lim_{n \to \infty} \int_X f_n ~d\mu \geq \int_X s ~d\mu
			\end{align*}
			which implies
			\begin{align*}
				\lim_{n \to \infty} \int_X f_n ~d\mu \geq \sup \int_X s ~d\mu = \int_X f ~d\mu
			\end{align*}
			and since we already have the other side of this inequality by the monotonicity of the Lebesque integral, we get our desired result that
			\begin{align*}
				\lim_{n \to \infty} \int_X f_n ~d\mu = \int_X f ~d\mu
			\end{align*}
		\end{proof}
		Next, we will work towards proving the linearity of the Lebesque integral. We will prove this in multiple steps, slowly expanding the class of functions for which we know linearity holds.
		\begin{lemma}
			Let $f_1$, $f_2$ be \ul{nonnegative $\cA$-measurable} functions on $X$. Then we have:
			\begin{align*}
				\int_X (f_1 + f_2) ~d\mu = \int_X f_1 ~d\mu + \int_X f_2 ~d\mu
			\end{align*}
		\end{lemma}
		\begin{proof}
			\begin{enumerate}
				\item Let $f_1$ and $f_2$ be step functions
				\begin{align*}
					f_1 = \sum_{i = 0}^m \alpha_i \chi_{A_i}, \qquad
					f_2 = \sum_{j = 0}^n \beta_j \chi_{B_j}
				\end{align*}
				defined on pairwise disjoint sets. Then, by our sum formula for step functions, we have:
				\begin{align*}
					f_1 + f_2 = \sum_{i = 0}^m \sum_{j = 0}^n (\alpha_i + \beta_j)\chi_{A_i \cap B_j}
				\end{align*}
				which means we can use the same reasoning we used back then to get:
				\begin{align*}
					\int_X (f_1 + f_2) ~d\mu 
					&= \int_X \lr(\sum_{i = 0}^m \sum_{j = 0}^n (\alpha_i + \beta_j)\chi_{A_i \cap B_j}) ~d\mu\\
					&= \sum_{i = 0}^m \sum_{j = 0}^n (\alpha_i + \beta_j)\mu(A_i \cap B_j)\\
					&= \sum_{i = 0}^m \alpha_i \mu(A_i) + \sum_{j = 0}^n \beta_j \mu(B_j)\\
					&= \int_X f_1 ~d\mu + \int_X f_2 ~d\mu
				\end{align*}
				\item Let $f_1$ and $f_2$ be arbitrary functions. Then we can find sequences $s_n$ and $t_n$ of step functions converging to $f_1$ and $f_2$, and our desired formula follows from case (1) and the monotone convergence theorem.
			\end{enumerate}
		\end{proof}
		\begin{importantcorollary}{Leaving out a zero set}{}
			Let $N$ be a set such that $\mu(N) = 0$. Let $f : D \to \barR$ be $\cA|_D$-measurable. Then 
			\begin{align*}
				\displaystyle \int_D f ~d\mu = \int_{D \setminus N} f ~d\mu
			\end{align*} 
		\end{importantcorollary}
		\begin{lemma}
			The previous lemma continues to hold if $f_1$ and $f_2$ are not $\cA$-measurable, but \ul{are $\mu$-measurable}.
		\end{lemma}
		\begin{proof}
			Assume $f_1$ and $f_2$ are defined on $D_1, D_2 \subset \cA$, such that $\mu(X \setminus D_1) = \mu(X \setminus D_2) = 0$. Then $f_1 + f_2$ is defined on $D_1 \cap D_2 \in \cA$, and 
			\begin{align*}
				\mu(X \setminus (D_1 \cap D_2)) = \mu(X \setminus D_1) + \mu(X \setminus D_2) = 0.
			\end{align*} 
			Therefore, we have:
			\begin{align*}
				\int_X (f_1 + f_2) ~d\mu
				&= \int_{D_1 \cap D_2} (f_1 + f_2) ~d\mu\\
				&= \int_{D_1 \cap D_2} f_1 ~d\mu + \int_{D_1 \cap D_2} f_2 ~d\mu\\
				&= \int_{D_1} f_1  ~d\mu + \int_{D_2} f_2 ~d\mu\\
				&= \int_{X} f_1  ~d\mu + \int_{X} f_2 ~d\mu\\
			\end{align*}
		\end{proof}
		\begin{corollary}
			\theoremname{Monotonicity of the Lebesque Integral, Part 2}
			Let $f,g$ be nonnegative and \ul{$\mu$-measurable} such that $f \leq g$ hold $\mu$-almost everywhere. Then we have:
			\begin{align*}
				0 \leq \int_X f ~d\mu \leq \int_X g ~d\mu.
			\end{align*}
		\end{corollary}
		\begin{lemma}\theoremname{Chebyshev Inequality}
			Let $f : X \to [0, \infty]$ be $\mu$-measurable with $\int_X f ~d\mu < \infty$. Let $s \in (0,\infty]$. Then:
			\begin{align*}
				\mu(\lr{x : f(x) \geq s}) \leq 
				\begin{cases}
					\displaystyle\frac{1}{s}\int_X f ~d\mu & s \in (0,\infty)\\
					0 & s = \infty
				\end{cases}
			\end{align*}
		\end{lemma}
		\begin{corollary}
			Let $f : X \to \barR$ be $\mu$-measurable. Then:
			\begin{enumerate}
				\item If $\int_X f ~d\mu < \infty$, $\lr{x : f(x) = \infty}$ is a $\mu$-zero set.
				\item If $f \geq 0$ and $\int_X f ~d\mu = 0$, $\lr{x : f(x) > 0}$ is a $\mu$-zero set.
			\end{enumerate}
		\end{corollary}
		\begin{importanttheorem}{Linearity of the Lebesque Integral}{}
			Let $\mu$ be a measure on $X$. Let $f,g : X \to \barR$ and $\alpha, \beta \in \bR$. Then we have:
			\begin{align*}
				\int_X (\alpha f + \beta g) ~d\mu = \alpha \int_X f ~d\mu + \beta \int_X g ~d\mu
			\end{align*}
		\end{importanttheorem}
		\section{Convergence Theorems}
		\section{$L^p$-Spaces}
		\section{Density Functions}
		\begin{importanttheorem}{}{}
			Let $(X, \cA, \mu)$ be a measure space. Let $\theta : X \to \barR$ be nonnegative and $\mu$-measurable. Then the map
			\begin{align*}
				\nu : \cA &\to \barR\\
				A &\mapsto \int_A \theta ~d\mu
			\end{align*}
			is a measure, which we denote $\mu_\theta$. We call $\theta$ the \tbf{density of $\nu$ with respect to $\mu$}.
		\end{importanttheorem}
		\begin{corollary}
			The following hold for $\mu_\theta$:
			\begin{enumerate}
				\item $\mu(A) = 0$ implies $\mu_\theta(A) = 0$.
				\item For every nonnegative $\mu$-measurable function $f$, we have
				\begin{align*}
					\int_X f ~d\mu_\theta = \int_X f \cdot \theta ~d\mu.
				\end{align*}
				\item $\theta$ is unique up to equality $\mu$-almost everywhere.
			\end{enumerate}
		\end{corollary}
		\begin{importantdefinition}{}{}
			Let $\mu$ and $\nu$ be measures on $(X, \cA)$. Then we call $\nu$ \tbf{absolutely continuous with respect to $\mu$}, which we denote $\nu \ll \mu$, if $\mu(A) = 0$ implies $\nu(A) = 0$.
		\end{importantdefinition}
		\begin{lemma}
			Let $\sigma$ and $\nu$ be finite measures on $(X, \cA)$ such that $\nu(A) \leq \sigma(A)$ for every $A \in \cA$. Then there exists a density function $\theta$ such that $\nu = \sigma_\theta$.
		\end{lemma}
		This lemma is actually a special case of the significantly more general Riesz representation theorem for Hilbert spaces, which I sadly do not have the time to go into at this point (but look it up, it's really neat!).
		\begin{lemma}
			Let $\mu, \nu$ be measures on $(X, \cA)$. Let $\sigma := \mu + \nu$. Then if $f \in \cL^*(\sigma)$, then $f \in \cL^*(\mu)$ and $f \in \cL^*(\nu)$ and we have
			\begin{align*}
				\int_X f ~d\sigma = \int_X f ~d\mu + \int_X f ~d\nu
			\end{align*}
		\end{lemma}
		\begin{theorem}
			\theoremname{Mini-Radon-Nikodym} Let $\mu$, $\nu$ be finite measures on $(X, \cA)$ such that $\nu \ll \mu$. Then there exists a density function $\theta \in L^1(\mu)$ such that $\nu = \mu_\theta$.
		\end{theorem}
		In this case, $\theta$ is sometimes also called the \tbf{Radon-Nikodym derivative of $\nu$ with respect to $\mu$} and denoted $\frac{d\nu}{d\mu}$.
		\begin{theorem}
			Let $\mu$ and $\nu$ be finite measures on $(X, \cA)$. Then the following are equivalent:
			\begin{enumerate}
				\item $\nu \ll \mu$,
				\item There exists a density function $\theta \in L^1(\mu)$ such that $\nu = \mu_\theta$,
				\item For all $\epsilon > 0$, there exists a $\delta > 0$ such that $\mu(A) < \delta$ implies $\nu(A) < \epsilon$.
			\end{enumerate}
		\end{theorem}
		\begin{proof}
			(i) $\implies$ (ii) is our mini-Radon-Nikodym theorem. (ii) $\implies$ (iii) follows from absolute continuity of the Lebesque integral. (iii) $\implies$ (i) follows immediately from the definition of $\ll$.
		\end{proof}
		\begin{importanttheorem}
			{Radon-Nikodym}{} Let $\mu$, $\nu$ be $\sigma$-finite measures on $(X, \cA)$ such that $\nu \ll \mu$. Then there exists a density function $\theta \in L^1(\mu)$ such that $\nu = \mu_\theta$.
		\end{importanttheorem}
		\begin{importantdefinition}{}{}
			Let $\mu$ and $\nu$ be measures on $(X, \cA)$. Then we call $\mu$ and $\nu$ \tbf{singular with respect to each other}, which we denote $\mu \perp \nu$, if there exists a set $M \in \cA$ such that
			\begin{align*}
				\mu(M) = \nu(X \setminus M) = 0.
			\end{align*}
		\end{importantdefinition}
		\begin{importanttheorem}
			{Lebesque's decomposition theorem}{} Let $\mu$ and $\nu$ be measures on $(X, \cA)$, and let $\nu$ be $\sigma$-finite. Then there exists a unique decomposition $\nu = \nu_a + \nu_s$ such that $\nu_a \ll \mu$ and $\nu_a \perp \mu$.
		\end{importanttheorem}
	\chapter{Integration over Immersed Manifolds}
		\section{Product Measures and Fubini's Theorem}
		\section{Change of Variables}
		\begin{lemma}
			Let $U \subset \bR^n$ and $x_0 \in U$. Let $\phi : U \to \bR^n$ be a function such that $D\phi(x_0)$ is invertible.
			\newpar
			Then for a sequence $Q_j = Q(x_j, r_j) \subset U$ of cuboids of sidelength $r_j$ with center $x_j$ such that $r_j \to 0$ and $x_0 \in Q_j$, we have:
			\begin{align*}
				\limsup_{j \to \infty} \frac{\lambda^n(\phi(Q_j))}{\lambda^n(Q_j)}
				\leq
				\abs{\det D\phi(x_0)}
			\end{align*}
		\end{lemma}
		\begin{proof}
			We can assume $x_0 = 0$ and $\phi(0) = 0$, since otherwise we can translate space as needed before doing any calculations without breaking any of our assumptions.
			\begin{enumerate}
				\item  Assume $D(\phi(0)) = E_n$. Then, by definition of differentiablity and equivalence of norms on finite-dimensional vector spaces, we have
				\begin{align*}
					0 &= \lim_{x \to 0}
					\frac{\norm{\phi(x) - \phi(0) - D\phi(0)x}\infty}{\norm{x}_\infty}\\
					&= \lim_{x \to 0} \frac{\norm{\phi(x) - x}_\infty}{\norm{x}_\infty},
				\end{align*}
				Let $\epsilon > 0$. Then, by the definition of convergence, for every $x$ with a sufficiently small norm, we have:
				\begin{align*}
					\frac{\norm{\phi(x) - x}_\infty}{\norm{x}_\infty} \leq \epsilon,
				\end{align*}
				which means
				\begin{align*}
					\norm{\phi(x) - x}_\infty \leq \epsilon{\norm{x}_\infty}.
				\end{align*}
				Furthermore, for $x \in Q_j$, we have:
				\begin{align*}
					\norm{x}_\infty 
					&= \norm{x - \vzero}_\infty\\
					&= \norm{x - x_0}_\infty\\
					&\leq \norm{x - x_j}
					+ \norm{x_j - x_0}\\
					&\leq 2r_j
				\end{align*}
				For sufficiently large $j$, these imply:
				\begin{align*}
					\norm{\phi(x) - x}_\infty &\leq \epsilon \norm{x}_\infty\\
					&\leq 2\epsilon r_j.
				\end{align*}
				Further applying the triangle inequality, we get:
				\begin{align*}
					\norm{\phi(x) - \phi(x)}
					&\leq \norm{\phi(x) - x}_\infty\\
					&+ \norm{x - x_j}_\infty\\
					&+ \norm{x_j - \phi(x_j)}_\infty\\
					&\leq 2\epsilon r_j + r_j + 2\epsilon r_j\\
					&\leq (1 + 4\epsilon)r_j,
				\end{align*}
				which means that $\phi$ increases the side length of our cube by a factor of at most $(1 + 4\epsilon)$. Therefore, it increases the volume by a factor at most $(1 + 4\epsilon)^n$, i.e:
				\begin{align*}
					\frac{\lambda^n(\phi(Q_j))}{\lambda^n(Q_j)}
					\leq (1 + 4\epsilon)^n
				\end{align*}
				Letting $j \to \infty$ and $\epsilon \searrow 0$, we have
				\begin{align*}
					\limsup_{j \to \infty }\frac{\lambda^n(\phi(Q_j))}{\lambda^n(Q_j)}
					&\leq \lim_{\epsilon \to 0} (1 + 4\abs{\epsilon})^n\\
					&= 1\\
					&= \abs{\det E_n}
				\end{align*}
			\item Now, let $S := D\phi(0)$ and $\phi_0 := S^{-1} \circ \phi$, i.e. $\phi = S \circ \phi_0$. Then $D\phi_0(0) = E_n$. By the linear transformation equation $\lambda^n(S(E)) = \abs{\det(S)} \lambda^n(E)$ (\ref{thm:lineartransformationequation}), we have:
			\begin{align*}
				\limsup_{j \to \infty} \frac{\lambda^n(\phi(Q_j))}{\lambda^n(Q_j)}
				&=
				\limsup_{j \to \infty} \frac{\lambda^n(S(\phi_0(Q_j)))}{\lambda^n(Q_j)}\\
				&= \abs{\det S} \limsup_{j \to \infty} \frac{\lambda^n(\phi_0(Q_j))}{\lambda^n(Q_j)}\\
				&\leq \abs{\det S}\\
				&= \abs{\det D\phi(0)}
			\end{align*}
			\end{enumerate}
		\end{proof}
		\begin{importanttheorem}{Multivariable Substitution Formula}{}
			Let $U \subset \bR^n$ be open. Let $\phi : U \to \bR^n$ be $C^1$. Then if $f : V \to \barR$ is $\lambda^n$-measurable, we have:
			\begin{align*}
				\int_V f(y) ~dy = \int_{\phi^{-1}(V)} f(\phi(x)) \cdot \abs{\det D\phi(x)} ~dx.
			\end{align*}
		\end{importanttheorem}
		\begin{corollary}
			Let $U,V \subset \bR^n$ be open. Let $\phi : U \to \bR^n$ be $C^1$. Then if $A \subset U$ is $\lambda^n$-measurable, so is $\phi(A)$, and we have
			\begin{align*}
				\lambda^n(\phi(A)) = \int_A \abs{\det D\phi(x)} ~dx.
			\end{align*}
		\end{corollary}
		\begin{proof}
			Apply the previous equation to $f = \chi_{\phi(A)}$.
		\end{proof}
		\begin{example}
			\theoremname{The Gaussian Integral}
			We want to find the area under the Gaussian bell curve pre-normalization, i.e.
			\begin{align*}
				\int_\bR e^{-x^2} ~dx
			\end{align*}
			To do this, we add an additional dimension and exploit the resulting rotational symmetry.
			By Fubini's Theorem, we have:
			\begin{align*}
				\int_{\bR^2} e^{-(x^2 + y^2)} ~d\lambda^2(x,y)
				&=
				\int_{\bR} \lr(\int_{\bR} e^{-(x^2 + y^2)} ~d\lambda(y)) ~d\lambda(x)\\
				&=
				\int_{\bR} \lr(\int_{\bR} e^{-x^2} \cdot e^{-y^2} ~d\lambda(y)) ~d\lambda(x)\\
				&=
				\int_{\bR} e^{-x^2} \cdot \lr(\int_{\bR} e^{-y^2} ~d\lambda(y)) ~d\lambda(x)\\
				&= \int_{\bR} e^{-x^2} ~d\lambda(x) \cdot \int_{\bR} e^{-y^2} ~d\lambda(y)\\
				&= \lr(\int_{\bR} e^{-x^2} ~d\lambda(x))^2
			\end{align*}
			Therefore, we have
			\begin{align*}
				\int_{\bR} e^{-x^2} ~d\lambda(x) &= \sqrt{\int_{\bR^2} e^{-(x^2 + y^2)} ~d\lambda(x,y)^2}
			\end{align*}
			We can now calculate the two-dimensional integral using multivariable substitution to transform to polar coordinates:
			\begin{align*}
				\int_{\bR^2} e^{-(x^2 + y^2)} ~d\lambda^2(x,y)
				&= \int_{(0,\infty) \times (0,2\pi)} \hdots\\
				&= \int_{(0,\infty) \times (0,2\pi)} re^{-r^2}  ~d\lambda^2(r,\omega)\\
				&= \int_0^\infty \lr(\int_{0}^{2\pi} re^{-r^2} ~d\omega) ~dr\\
				&= \int_0^\infty 2\pi re^{-r^2} ~dr\\
				&= 2\pi \int_0^\infty re^{-r^2} ~dr\\
				&= 2\pi \int_0^\infty \frac{1}{2}e^{-r^2} ~2rdr\\
				&= 2\pi \int_{-\infty}^0 \frac{1}{2} e^{s} ~ds\\
				&= \pi \int_{-\infty}^0 e^{s} ~ds\\
				&= \pi\\
			\end{align*}
			Which means that the area under the bell curve is $\sqrt{\pi}$.
		\end{example}
	\chapter{Generalizing even further}
		\section{The Bochner Integral}
		\section{The Pettis Integral}	
	\appendix
	\part{Summaries}
	\chapter{Littlewood's three Principles of Real Analysis}
	\chapter{Modes of Convergence}
	There are many different inequivalent ways in which a series of function $(f_i)_{i \in \bN}$ on a common domain $X$ could "converge" to a function $f$:
	\begin{enumerate}
		\item Assume $f_n : X \to T$, where $(T, \tau)$ is a topological space. Then we say $f_n$ converges \tbf{pointwise} to $f$ if, for every $x \in X$, $f_n(x)$ converges to $f(x)$, i.e. for every neighborhood $U$ around $f(x)$, all points $f_n(x)$ eventually lie in $U$ for large enough $n$:
		\begin{align*}
			\forall x \in X : \forall U \in \cN(f(x)) : \exists N \in \bN : &\\& n \geq N \implies f_n(x) \in U
		\end{align*}
		If we assume functions $f_n : X \to M$, where $(M, d_M)$ is a metric space equipped with the metric topology, then this is equivalent to the statement that the distance $d_M(f(x), f_n(x))$ gets arbitrarily small:
		\begin{align*}
			\forall x \in X : \forall \epsilon \in \bR : \exists N \in \bN: &\\& n \geq N \implies d_M(f(x), f_n(x)) \leq \epsilon
		\end{align*}
		\item If we have a metric on the set of functions themselves, we can just have the $f_n$ converge to $f$ directly like any set of points would. Therefore we say that $f_n$ converges to $f$ \tbf{in Norm}, if:
		\begin{align*}
			\forall \epsilon \in \bR : \exists N \in \bN: &\\& n \geq N \implies d_M(f, f_n) \leq \epsilon
		\end{align*}
		A special case that is particularly important for real (and functional) analysis is \tbf{convergence in $L^p$-Norm}, i.e.:
		\begin{align*}
			\forall \epsilon \in \bR : \exists N \in \bN: &\\& n \geq N \implies \norm{f - f_n}_{L^p} \leq \epsilon,
		\end{align*}
		where:
		\begin{align*}
			\norm{f - f_n}_{L^p} = \lr(\int_{X} \abs{f - f_n}^p  ~d\mu)^\frac{1}{p}
		\end{align*}
		\item 
		(TODO: Uniform Spaces)
		
		Let $f_n : X \to M$, where $(M, \leq)$ is a metric space. Then we say $f_n$ converges \tbf{uniformly} to if the same condition still holds when we have to choose our $N$ independently of (i.e. before) $x$:
		\begin{align*}
			\forall \epsilon \in \bR : \exists N \in \bN : \forall x \in X : &\\& n \geq N \implies d_M(f(x), f_n(x)) \leq \epsilon
		\end{align*}
		\item Let $f_n : X \to M$ and let $\mu$ be a measure on $X$. Then $f_n$ converges to $f$ \tbf{almost uniformly} if there exists a set $A_\epsilon$ such that $\mu(A_\epsilon) < \epsilon$ and such that $f_n$ converges to $f$ uniformly on $X \setminus A_\epsilon$. Note that this does \tbf{not} imply that $f_n$ converges uniformly to $f$ \tit{almost everywhere}, since all our $A_\epsilon$ still have positive measure, and so uniform convergence might not hold in the "limit case" where $A_\epsilon$ has to be zero.
	\end{enumerate}
	\begin{example}
		The sequence $f_n : [0,1] \to \bR$, $x \mapsto x^n$ converges to the zero function almost uniformly, but not uniformly almost everywhere:
		\begin{enumerate}
			\item 
			\item Let $E$ have zero measure. Then $E$ cannot contain any closed interval as a subset. Therefore, for any $m$, there must be a point $x_m \in \lr[1 - \frac{1}{m}, 1 - \frac{1}{m + 1}]$ such that $x_m \notin E$. We therefore have:
			\begin{align*}
				\sup_{x \in [0,1] \setminus E} \abs{f_n - 0} 
				&= \sup_{x \in [0,1] \setminus E} \abs{x^n}\\
				&\geq f_n(x_m)\\
				&\geq f_n\lr(1 - \frac{1}{m})\\
				&= \lr(1 - \frac{1}{m})^n
			\end{align*}
			Therefore, $f_n$ cannot converge uniformly to $0$, since for every choice of $E$ and any arbitrarily large $n \geq N$, we can still always find a point $x_m \in [0,1] \setminus E$ such that $f_n(x_m)$ is arbitrarily close to $1$.
		\end{enumerate}
	\end{example}
\end{document}